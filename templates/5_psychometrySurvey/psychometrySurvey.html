<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Julius Fenn, Michael Gorki">
<meta name="dcterms.date" content="2025-05-17">

<title>First analyses of cultural worldview measures</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="psychometrySurvey_files/libs/clipboard/clipboard.min.js"></script>
<script src="psychometrySurvey_files/libs/quarto-html/quarto.js"></script>
<script src="psychometrySurvey_files/libs/quarto-html/popper.min.js"></script>
<script src="psychometrySurvey_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="psychometrySurvey_files/libs/quarto-html/anchor.min.js"></script>
<link href="psychometrySurvey_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="psychometrySurvey_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="psychometrySurvey_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="psychometrySurvey_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="psychometrySurvey_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#background-information" id="toc-background-information" class="nav-link active" data-scroll-target="#background-information">Background Information</a></li>
  <li><a href="#notes" id="toc-notes" class="nav-link" data-scroll-target="#notes">Notes</a></li>
  <li><a href="#get-packages-raw-data-functions" id="toc-get-packages-raw-data-functions" class="nav-link" data-scroll-target="#get-packages-raw-data-functions">get packages, raw data, functions</a></li>
  <li><a href="#data-preperation" id="toc-data-preperation" class="nav-link" data-scroll-target="#data-preperation">data preperation</a>
  <ul class="collapse">
  <li><a href="#compute-mean-variables" id="toc-compute-mean-variables" class="nav-link" data-scroll-target="#compute-mean-variables">compute mean variables</a></li>
  <li><a href="#merge-data-sets" id="toc-merge-data-sets" class="nav-link" data-scroll-target="#merge-data-sets">merge data sets</a></li>
  </ul></li>
  <li><a href="#statistics" id="toc-statistics" class="nav-link" data-scroll-target="#statistics">Statistics</a>
  <ul class="collapse">
  <li><a href="#descriptives" id="toc-descriptives" class="nav-link" data-scroll-target="#descriptives">Descriptives</a></li>
  <li><a href="#overall-efa" id="toc-overall-efa" class="nav-link" data-scroll-target="#overall-efa">Overall EFA</a>
  <ul class="collapse">
  <li><a href="#bioinspired-data-set" id="toc-bioinspired-data-set" class="nav-link" data-scroll-target="#bioinspired-data-set">bioinspired data set</a></li>
  <li><a href="#bioinspired-data-set-1" id="toc-bioinspired-data-set-1" class="nav-link" data-scroll-target="#bioinspired-data-set-1">bioinspired data set</a></li>
  <li><a href="#temporal-data-set" id="toc-temporal-data-set" class="nav-link" data-scroll-target="#temporal-data-set">temporal data set</a></li>
  </ul></li>
  <li><a href="#descriptives-correlation-plot-efa-cfa-for-a-group-individualism-communitarianism" id="toc-descriptives-correlation-plot-efa-cfa-for-a-group-individualism-communitarianism" class="nav-link" data-scroll-target="#descriptives-correlation-plot-efa-cfa-for-a-group-individualism-communitarianism">Descriptives, correlation plot, EFA, CFA for “A: Group (Individualism-Communitarianism)”</a>
  <ul class="collapse">
  <li><a href="#bioinspired-data-set-2" id="toc-bioinspired-data-set-2" class="nav-link" data-scroll-target="#bioinspired-data-set-2">bioinspired data set</a></li>
  <li><a href="#sustainability-data-set" id="toc-sustainability-data-set" class="nav-link" data-scroll-target="#sustainability-data-set">sustainability data set</a></li>
  <li><a href="#temporal-data-set-1" id="toc-temporal-data-set-1" class="nav-link" data-scroll-target="#temporal-data-set-1">temporal data set</a></li>
  </ul></li>
  <li><a href="#descriptives-correlation-plot-efa-cfa-for-b-grid-hierarchy-egalitarianism" id="toc-descriptives-correlation-plot-efa-cfa-for-b-grid-hierarchy-egalitarianism" class="nav-link" data-scroll-target="#descriptives-correlation-plot-efa-cfa-for-b-grid-hierarchy-egalitarianism">Descriptives, correlation plot, EFA, CFA for “B: Grid (Hierarchy-Egalitarianism)”</a>
  <ul class="collapse">
  <li><a href="#bioinspired-data-set-3" id="toc-bioinspired-data-set-3" class="nav-link" data-scroll-target="#bioinspired-data-set-3">bioinspired data set</a></li>
  <li><a href="#sustainability-data-set-1" id="toc-sustainability-data-set-1" class="nav-link" data-scroll-target="#sustainability-data-set-1">sustainability data set</a></li>
  <li><a href="#temporal-data-set-2" id="toc-temporal-data-set-2" class="nav-link" data-scroll-target="#temporal-data-set-2">temporal data set</a></li>
  </ul></li>
  <li><a href="#item-response-theory-polytomous-for-a-group-individualism-communitarianism" id="toc-item-response-theory-polytomous-for-a-group-individualism-communitarianism" class="nav-link" data-scroll-target="#item-response-theory-polytomous-for-a-group-individualism-communitarianism">Item Response Theory (polytomous) for “A: Group (Individualism-Communitarianism)”</a>
  <ul class="collapse">
  <li><a href="#bioinspired-data-set-4" id="toc-bioinspired-data-set-4" class="nav-link" data-scroll-target="#bioinspired-data-set-4">bioinspired data set</a></li>
  </ul></li>
  <li><a href="#latent-class-analysis-for-a-group-individualism-communitarianism" id="toc-latent-class-analysis-for-a-group-individualism-communitarianism" class="nav-link" data-scroll-target="#latent-class-analysis-for-a-group-individualism-communitarianism">latent class analysis for “A: Group (Individualism-Communitarianism)”</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">First analyses of cultural worldview measures</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Julius Fenn, Michael Gorki </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 17, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="background-information" class="level1">
<h1>Background Information</h1>
<p>This is an <a href="http://rmarkdown.rstudio.com">R Markdown</a> document. Instructions for writing these documents and background information can be found in the book written by <span class="citation" data-cites="xieMarkdownDefinitiveGuide2018">Xie, Allaire, and Grolemund (<a href="#ref-xieMarkdownDefinitiveGuide2018" role="doc-biblioref">2018</a>)</span> When you execute code within the document, the results appear beneath the code. This is an <a href="http://rmarkdown.rstudio.com">R Markdown</a> document. Instructions for writing these documents and background information can be found in the book written by <span class="citation" data-cites="xieMarkdownDefinitiveGuide2018">Xie, Allaire, and Grolemund (<a href="#ref-xieMarkdownDefinitiveGuide2018" role="doc-biblioref">2018</a>)</span> When you execute code within the document, the results appear beneath the code. This file contains summary statistics, respectively the analysis step (confirmatory and exploratory analyses). Files are split into multiple subfiles like data processing and data analyses steps, which follows the classical data-analysis pipeline <span class="citation" data-cites="pengArtDataScience2016 wickhamDataScienceImport2017">(see <a href="#ref-pengArtDataScience2016" role="doc-biblioref">Peng and Matsui 2016</a>; <a href="#ref-wickhamDataScienceImport2017" role="doc-biblioref">Wickham and Grolemund 2017</a>)</span>.</p>
</section>
<section id="notes" class="level1">
<h1>Notes</h1>
<p>Global variables to control output:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="do">## global variables</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>runLCA <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="do">## set to lower values to reduce compilation time: </span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>LCArunsDef <span class="ot">&lt;-</span> <span class="dv">6</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>nRep_def <span class="ot">=</span> <span class="dv">100</span> <span class="co"># 100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="get-packages-raw-data-functions" class="level1">
<h1>get packages, raw data, functions</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">### install and load packages</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#  if packages are not already installed, the function will install and activate them</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>usePackage <span class="ot">&lt;-</span> <span class="cf">function</span>(p) {</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.element</span>(p, <span class="fu">installed.packages</span>()[,<span class="dv">1</span>]))</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">install.packages</span>(p, <span class="at">dep =</span> <span class="cn">TRUE</span>, <span class="at">repos =</span> <span class="st">"http://cran.us.r-project.org"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">require</span>(p, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"readxl"</span>) <span class="co"># read .xlsx files</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"writexl"</span>) <span class="co"># write .xlsx files</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"tidyverse"</span>) <span class="co"># data cleaning and summarizing</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="do">## psychometric analysis</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"moments"</span>) <span class="co"># skewness, kurtosis</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"psych"</span>) <span class="co"># psychometric analysis (EFA), reliability measures</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"lavaan"</span>) <span class="co"># for CFA, SEM</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"regsem"</span>) <span class="co"># for regularizations -&gt; local item dependencies</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"mirt"</span>) <span class="co"># for IRT</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="co"># usePackage("MplusAutomation") # to apply statistical software Mplus (LCA)</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"poLCA"</span>)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="do">## outputs</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"stargazer"</span>) <span class="co"># create tables</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"report"</span>) <span class="co"># get reports of statistical tests in APA7</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(usePackage)</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="do">### load data files</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a><span class="do">## change working directory</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"data"</span>)</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a><span class="do">## load data</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>dat_naming <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="at">path =</span> <span class="st">"Overview_CCWS_short.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">1</span>)</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"bioinspiredBuildings"</span>)</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>dat_bioinspired <span class="ot">&lt;-</span> <span class="fu">read.csv2</span>(<span class="fu">file</span>(<span class="st">"data_gabaeude_2024-06-01_00-41_load.csv"</span>, <span class="at">encoding =</span> <span class="st">"UTF-16LE"</span>),</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>                             <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>)</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">".."</span>)</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"sustainabilityCAMs"</span>)</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>dat_sustainability <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">file</span>(<span class="st">"validSoSci.csv"</span>, <span class="at">encoding =</span> <span class="st">"UTF-8-BOM"</span>), <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">".."</span>)</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"sustainabilityCAMs"</span>)</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>dat_sustainability <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">file</span>(<span class="st">"validSoSci.csv"</span>, <span class="at">encoding =</span> <span class="st">"UTF-8-BOM"</span>), <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">".."</span>)</span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"temporalFraming"</span>)</span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>dat_temporal <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="at">path =</span> <span class="st">"data_climate-impact_2025-01-07_13-58_FILTERED.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">1</span>)</span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">".."</span>)</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a><span class="do">### load functions</span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a><span class="co"># print(getwd())</span></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"../functions"</span>)</span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">dir</span>())){</span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>  <span class="co"># print(dir()[i])</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">source</span>(<span class="fu">dir</span>()[i], <span class="at">encoding =</span> <span class="st">"utf-8"</span>)</span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(i)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-preperation" class="level1">
<h1>data preperation</h1>
<p>rename variables:</p>
<ol type="1">
<li>check if variables exists:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(dat_naming<span class="sc">$</span>Item) <span class="sc">%in%</span> <span class="fu">colnames</span>(dat_bioinspired) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(dat_naming<span class="sc">$</span>Item) <span class="sc">%in%</span> <span class="fu">colnames</span>(dat_sustainability) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(dat_naming<span class="sc">$</span>Item) <span class="sc">%in%</span> <span class="fu">colnames</span>(dat_temporal) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>rename variables</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop over each unique item</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (item <span class="cf">in</span> <span class="fu">unique</span>(dat_naming<span class="sc">$</span>Item)) {</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get abbreviation for this item</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  abbrev <span class="ot">&lt;-</span> <span class="fu">unique</span>(dat_naming<span class="sc">$</span>Abbrevation[dat_naming<span class="sc">$</span>Item <span class="sc">==</span> item])</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get dimension for this item</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  dimension <span class="ot">&lt;-</span> <span class="fu">unique</span>(dat_naming<span class="sc">$</span>Dimension[dat_naming<span class="sc">$</span>Item <span class="sc">==</span> item])</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get labels as named character vector</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  val_lab <span class="ot">&lt;-</span> dat_naming[dat_naming<span class="sc">$</span>Item <span class="sc">==</span> item, <span class="fu">c</span>(<span class="st">"Value"</span>, <span class="st">"Label"</span>)]</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  labels_vec <span class="ot">&lt;-</span> <span class="fu">setNames</span>(<span class="fu">as.character</span>(val_lab<span class="sc">$</span>Label), val_lab<span class="sc">$</span>Value)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(dimension <span class="sc">==</span> <span class="st">"A: Group (Individualism-Communitarianism)"</span>){</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    abbrev <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"A_"</span>, abbrev) <span class="co"># "A: Group (Individualism-Communitarianism)"</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    abbrev <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"B_"</span>, abbrev) <span class="co"># "B: Grid (Hierarchy-Egalitarianism)"</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename column if it exists in dat_bioinspired</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (item <span class="sc">%in%</span> <span class="fu">colnames</span>(dat_bioinspired)) {</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colnames</span>(dat_bioinspired)[<span class="fu">colnames</span>(dat_bioinspired) <span class="sc">==</span> item] <span class="ot">&lt;-</span> abbrev</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colnames</span>(dat_sustainability)[<span class="fu">colnames</span>(dat_sustainability) <span class="sc">==</span> item] <span class="ot">&lt;-</span> abbrev</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colnames</span>(dat_temporal)[<span class="fu">colnames</span>(dat_temporal) <span class="sc">==</span> item] <span class="ot">&lt;-</span> abbrev</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add value labels as an attribute (keeping variable numeric)</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (abbrev <span class="sc">%in%</span> <span class="fu">colnames</span>(dat_bioinspired)) {</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set the 'labels' attribute</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">attr</span>(dat_bioinspired[[abbrev]], <span class="st">"labels"</span>) <span class="ot">&lt;-</span> labels_vec</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">attr</span>(dat_sustainability[[abbrev]], <span class="st">"labels"</span>) <span class="ot">&lt;-</span> labels_vec</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">attr</span>(dat_temporal[[abbrev]], <span class="st">"labels"</span>) <span class="ot">&lt;-</span> labels_vec</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>check renamed variables</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List of datasets</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>datasets <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">dat_bioinspired =</span> dat_bioinspired,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">dat_sustainability =</span> dat_sustainability,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">dat_temporal =</span> dat_temporal</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each dataset</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (name <span class="cf">in</span> <span class="fu">names</span>(datasets)) {</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> datasets[[name]]</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  a_vars <span class="ot">&lt;-</span> <span class="fu">str_subset</span>(<span class="fu">colnames</span>(data), <span class="st">"^A_"</span>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  b_vars <span class="ot">&lt;-</span> <span class="fu">str_subset</span>(<span class="fu">colnames</span>(data), <span class="st">"^B_"</span>)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">---"</span>, name, <span class="st">"---</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"A-prefixed variables ("</span>, <span class="fu">length</span>(a_vars), <span class="st">"):</span><span class="sc">\n</span><span class="st">"</span>, <span class="fu">paste</span>(a_vars, <span class="at">collapse =</span> <span class="st">", "</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"B-prefixed variables ("</span>, <span class="fu">length</span>(b_vars), <span class="st">"):</span><span class="sc">\n</span><span class="st">"</span>, <span class="fu">paste</span>(b_vars, <span class="at">collapse =</span> <span class="st">", "</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"Total columns:"</span>, <span class="fu">ncol</span>(data), <span class="st">"and rows:"</span>, <span class="fu">nrow</span>(data), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
--- dat_bioinspired ---
A-prefixed variables ( 6 ):
 A_IINTRSTS, A_CHARM, A_IPROTECT, A_IPRIVACY, A_CPROTECT, A_CLIMCHOI 
B-prefixed variables ( 6 ):
 B_HEQUAL, B_EWEALTH, B_ERADEQ, B_EDISCRIM, B_HREVDIS2, B_HFEMININ 
Total columns: 159 and rows: 250 

--- dat_sustainability ---
A-prefixed variables ( 6 ):
 A_IINTRSTS, A_CHARM, A_IPROTECT, A_IPRIVACY, A_CPROTECT, A_CLIMCHOI 
B-prefixed variables ( 6 ):
 B_HEQUAL, B_EWEALTH, B_ERADEQ, B_EDISCRIM, B_HREVDIS2, B_HFEMININ 
Total columns: 135 and rows: 296 

--- dat_temporal ---
A-prefixed variables ( 6 ):
 A_IINTRSTS, A_CHARM, A_IPROTECT, A_IPRIVACY, A_CPROTECT, A_CLIMCHOI 
B-prefixed variables ( 6 ):
 B_HEQUAL, B_EWEALTH, B_ERADEQ, B_EDISCRIM, B_HREVDIS2, B_HFEMININ 
Total columns: 102 and rows: 245 </code></pre>
</div>
</div>
<section id="compute-mean-variables" class="level2">
<h2 class="anchored" data-anchor-id="compute-mean-variables">compute mean variables</h2>
<p>However, items regarding Individualism-Communitarianism are <strong>not undimensional</strong>!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>dat_bioinspired<span class="sc">$</span>mean_IndCom <span class="ot">&lt;-</span> <span class="fu">rowMeans</span>(<span class="at">x =</span> dat_bioinspired[,a_vars])</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>dat_sustainability<span class="sc">$</span>mean_IndCom <span class="ot">&lt;-</span> <span class="fu">rowMeans</span>(<span class="at">x =</span> dat_sustainability[,a_vars])</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>dat_temporal<span class="sc">$</span>mean_IndCom <span class="ot">&lt;-</span> <span class="fu">rowMeans</span>(<span class="at">x =</span> dat_temporal[,a_vars])</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>dat_bioinspired<span class="sc">$</span>mean_HieEga <span class="ot">&lt;-</span> <span class="fu">rowMeans</span>(<span class="at">x =</span> dat_bioinspired[,b_vars])</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>dat_sustainability<span class="sc">$</span>mean_HieEga <span class="ot">&lt;-</span> <span class="fu">rowMeans</span>(<span class="at">x =</span> dat_sustainability[,b_vars])</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>dat_temporal<span class="sc">$</span>mean_HieEga <span class="ot">&lt;-</span> <span class="fu">rowMeans</span>(<span class="at">x =</span> dat_temporal[,b_vars])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="merge-data-sets" class="level2">
<h2 class="anchored" data-anchor-id="merge-data-sets">merge data sets</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select A_ and B_ columns from dat_bioinspired</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>bio_cols <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"^(A_|B_)|mean_IndCom|mean_HieEga"</span>, <span class="fu">colnames</span>(dat_bioinspired), <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>dat_bioinspired_subset <span class="ot">&lt;-</span> dat_bioinspired[, bio_cols, drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>dat_bioinspired_subset<span class="sc">$</span>source <span class="ot">&lt;-</span> <span class="st">"bioinspired"</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Select A_ and B_ columns from dat_sustainability</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>sust_cols <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"^(A_|B_)|mean_IndCom|mean_HieEga"</span>, <span class="fu">colnames</span>(dat_sustainability), <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>dat_sustainability_subset <span class="ot">&lt;-</span> dat_sustainability[, sust_cols, drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>dat_sustainability_subset<span class="sc">$</span>source <span class="ot">&lt;-</span> <span class="st">"sustainability"</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Select A_ and B_ columns from dat_temporal</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>temp_cols <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"^(A_|B_)|mean_IndCom|mean_HieEga"</span>, <span class="fu">colnames</span>(dat_temporal), <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>dat_temporal_subset <span class="ot">&lt;-</span> dat_temporal[, temp_cols, drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>dat_temporal_subset<span class="sc">$</span>source <span class="ot">&lt;-</span> <span class="st">"temporal"</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all three</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>dat_combined_long <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dat_bioinspired_subset, dat_sustainability_subset, dat_temporal_subset)</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>dat_combined_long<span class="sc">$</span>source <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(dat_combined_long<span class="sc">$</span>source)</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dat_combined_long<span class="sc">$</span>source)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   bioinspired sustainability       temporal 
           250            296            245 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="do">## add case variable:</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>dat_combined_long<span class="sc">$</span>CASE <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(dat_combined_long)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(dat_bioinspired_subset, dat_sustainability_subset, dat_temporal_subset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="statistics" class="level1">
<h1>Statistics</h1>
<section id="descriptives" class="level2">
<h2 class="anchored" data-anchor-id="descriptives">Descriptives</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>tmp_desc <span class="ot">&lt;-</span> dat_combined_long <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">N =</span> <span class="fu">n</span>(),</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">meanIndCom =</span> <span class="fu">mean</span>(mean_IndCom, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">sdIndCom =</span> <span class="fu">sd</span>(mean_IndCom, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">meanHieEga =</span> <span class="fu">mean</span>(mean_HieEga, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">sdHieEga =</span> <span class="fu">sd</span>(mean_HieEga, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>tmp_desc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 6
  source             N meanIndCom sdIndCom meanHieEga sdHieEga
  &lt;fct&gt;          &lt;int&gt;      &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;
1 bioinspired      250       3.26    0.821       2.35     1.19
2 sustainability   296       3.25    0.876       2.22     1.10
3 temporal         245       3.31    1.04        2.39     1.22</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ! Individualism-Communitarianism is not unidimensional, as such not show here</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>ggstatsplot<span class="sc">::</span><span class="fu">ggbetweenstats</span>(<span class="at">data =</span> dat_combined_long, <span class="at">x =</span> source, <span class="at">y =</span> mean_HieEga, <span class="at">type =</span> <span class="st">"parametric"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Using the <strong>stargazer</strong> package you can create nice tables:</p>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; output to html</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"outputs"</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(tmp_desc, <span class="at">type =</span> <span class="st">"html"</span>, <span class="at">summary =</span> <span class="cn">FALSE</span>, <span class="at">out =</span> <span class="st">"summaryTable.html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table style="text-align:center">
<tbody><tr>
<td colspan="7" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
source
</td>
<td>
N
</td>
<td>
meanIndCom
</td>
<td>
sdIndCom
</td>
<td>
meanHieEga
</td>
<td>
sdHieEga
</td>
</tr>
<tr>
<td colspan="7" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
1
</td>
<td>
1
</td>
<td>
250
</td>
<td>
3.26466666666667
</td>
<td>
0.820895398206718
</td>
<td>
2.34933333333333
</td>
<td>
1.18717375565012
</td>
</tr>
<tr>
<td style="text-align:left">
2
</td>
<td>
2
</td>
<td>
296
</td>
<td>
3.25394144144144
</td>
<td>
0.87601619546313
</td>
<td>
2.21734234234234
</td>
<td>
1.09684683900829
</td>
</tr>
<tr>
<td style="text-align:left">
3
</td>
<td>
3
</td>
<td>
245
</td>
<td>
3.30544217687075
</td>
<td>
1.04007467283886
</td>
<td>
2.38775510204082
</td>
<td>
1.21728021578848
</td>
</tr>
<tr>
<td colspan="7" style="border-bottom: 1px solid black">
</td>
</tr>
</tbody></table>
</section>
<section id="overall-efa" class="level2">
<h2 class="anchored" data-anchor-id="overall-efa">Overall EFA</h2>
<p>Promax rotation, factoring method minimum residual, if scale is a likert scale less or equal than 7 answering options the EFA or parallel analysis is computed over a polychoric correlation to account for non-normality of data (see in detail R-Code “helperFunctions”)</p>
<section id="bioinspired-data-set" class="level3">
<h3 class="anchored" data-anchor-id="bioinspired-data-set">bioinspired data set</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### Overall EFA</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>regExOverall <span class="ot">&lt;-</span> <span class="st">"^A_|^B_"</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">cor.plot</span>(<span class="at">r =</span> <span class="fu">cor</span>(dat_bioinspired[, <span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat_bioinspired),</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>                                                   <span class="at">pattern =</span> regExOverall)]</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>                        , <span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>),</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">upper =</span> <span class="cn">FALSE</span>, <span class="at">xlas =</span> <span class="dv">2</span>, <span class="at">main =</span> <span class="st">"Overall"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; parallel analysis</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>tmp_parallelAnalysis <span class="ot">&lt;-</span> <span class="fu">dimensionalityTest</span>(<span class="at">label =</span> <span class="st">"Overall"</span>,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                             <span class="at">regEx =</span> regExOverall, <span class="at">dataset =</span> dat_bioinspired)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in fa.stats(r = r, f = f, phi = phi, n.obs = n.obs, np.obs = np.obs, :
The estimated weights for the factor scores are probably incorrect.  Try a
different factor score estimation method.
Warning in fa.stats(r = r, f = f, phi = phi, n.obs = n.obs, np.obs = np.obs, :
The estimated weights for the factor scores are probably incorrect.  Try a
different factor score estimation method.
Warning in fa.stats(r = r, f = f, phi = phi, n.obs = n.obs, np.obs = np.obs, :
The estimated weights for the factor scores are probably incorrect.  Try a
different factor score estimation method.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Parallel analysis suggests that the number of factors =  3  and the number of components =  2 
Overall 
Number of components:  2 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; EFA (# of factors=5)</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>tmp_EFA <span class="ot">&lt;-</span> <span class="fu">explorativeFactorAnalysis</span>(<span class="at">label =</span> <span class="st">"Overall"</span>,</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">regEx =</span> regExOverall,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">dataset =</span> dat_bioinspired, <span class="at">nfac =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in fa.stats(r = r, f = f, phi = phi, n.obs = n.obs, np.obs = np.obs, :
The estimated weights for the factor scores are probably incorrect.  Try a
different factor score estimation method.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>tmp_EFA[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Factor Analysis using method =  minres
Call: fa(r = tmp_dat, nfactors = nfac, rotate = "promax", cor = "cor")
Standardized loadings (pattern matrix) based upon correlation matrix
             MR1   MR2   h2   u2 com
A_IINTRSTS  0.44  0.24 0.34 0.66 1.6
A_CHARM    -0.07  0.77 0.54 0.46 1.0
A_IPROTECT  0.25  0.21 0.15 0.85 1.9
A_IPRIVACY  0.41  0.30 0.37 0.63 1.9
A_CPROTECT -0.07  0.72 0.48 0.52 1.0
A_CLIMCHOI -0.15  0.71 0.44 0.56 1.1
B_HEQUAL    0.86 -0.16 0.65 0.35 1.1
B_EWEALTH   0.56  0.10 0.37 0.63 1.1
B_ERADEQ    0.76  0.02 0.59 0.41 1.0
B_EDISCRIM  0.70  0.03 0.51 0.49 1.0
B_HREVDIS2  0.89 -0.19 0.67 0.33 1.1
B_HFEMININ  0.96 -0.30 0.77 0.23 1.2

                       MR1  MR2
SS loadings           4.10 1.78
Proportion Var        0.34 0.15
Cumulative Var        0.34 0.49
Proportion Explained  0.70 0.30
Cumulative Proportion 0.70 1.00

 With factor correlations of 
     MR1  MR2
MR1 1.00 0.44
MR2 0.44 1.00

Mean item complexity =  1.2
Test of the hypothesis that 2 factors are sufficient.

df null model =  66  with the objective function =  5.87 with Chi Square =  1434.25
df of  the model are 43  and the objective function was  1.06 

The root mean square of the residuals (RMSR) is  0.07 
The df corrected root mean square of the residuals is  0.09 

The harmonic n.obs is  250 with the empirical chi square  155.58  with prob &lt;  1.2e-14 
The total n.obs was  250  with Likelihood Chi Square =  257.28  with prob &lt;  2.5e-32 

Tucker Lewis Index of factoring reliability =  0.758
RMSEA index =  0.141  and the 90 % confidence intervals are  0.125 0.158
BIC =  19.86
Fit based upon off diagonal values = 0.97
Measures of factor score adequacy             
                                                   MR1  MR2
Correlation of (regression) scores with factors   0.96 0.89
Multiple R square of scores with factors          0.92 0.79
Minimum correlation of possible factor scores     0.84 0.59</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>the factor structure seems too weak</p>
</blockquote>
</section>
<section id="bioinspired-data-set-1" class="level3">
<h3 class="anchored" data-anchor-id="bioinspired-data-set-1">bioinspired data set</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### Overall EFA</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>regExOverall <span class="ot">&lt;-</span> <span class="st">"^A_|^B_"</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">cor.plot</span>(<span class="at">r =</span> <span class="fu">cor</span>(dat_bioinspired[, <span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat_bioinspired),</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>                                                   <span class="at">pattern =</span> regExOverall)]</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>                        , <span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>),</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">upper =</span> <span class="cn">FALSE</span>, <span class="at">xlas =</span> <span class="dv">2</span>, <span class="at">main =</span> <span class="st">"Overall"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; parallel analysis</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>tmp_parallelAnalysis <span class="ot">&lt;-</span> <span class="fu">dimensionalityTest</span>(<span class="at">label =</span> <span class="st">"Overall"</span>,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>                             <span class="at">regEx =</span> regExOverall, <span class="at">dataset =</span> dat_bioinspired)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in fa.stats(r = r, f = f, phi = phi, n.obs = n.obs, np.obs = np.obs, :
The estimated weights for the factor scores are probably incorrect.  Try a
different factor score estimation method.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in fac(r = r, nfactors = nfactors, n.obs = n.obs, rotate = rotate, : An
ultra-Heywood case was detected.  Examine the results carefully</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in fa.stats(r = r, f = f, phi = phi, n.obs = n.obs, np.obs = np.obs, :
The estimated weights for the factor scores are probably incorrect.  Try a
different factor score estimation method.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-11-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Parallel analysis suggests that the number of factors =  3  and the number of components =  2 
Overall 
Number of components:  2 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; EFA (# of factors=5)</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>tmp_EFA <span class="ot">&lt;-</span> <span class="fu">explorativeFactorAnalysis</span>(<span class="at">label =</span> <span class="st">"Overall"</span>,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">regEx =</span> regExOverall,</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">dataset =</span> dat_bioinspired, <span class="at">nfac =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in fa.stats(r = r, f = f, phi = phi, n.obs = n.obs, np.obs = np.obs, :
The estimated weights for the factor scores are probably incorrect.  Try a
different factor score estimation method.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>tmp_EFA[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Factor Analysis using method =  minres
Call: fa(r = tmp_dat, nfactors = nfac, rotate = "promax", cor = "cor")
Standardized loadings (pattern matrix) based upon correlation matrix
             MR1   MR2   h2   u2 com
A_IINTRSTS  0.44  0.24 0.34 0.66 1.6
A_CHARM    -0.07  0.77 0.54 0.46 1.0
A_IPROTECT  0.25  0.21 0.15 0.85 1.9
A_IPRIVACY  0.41  0.30 0.37 0.63 1.9
A_CPROTECT -0.07  0.72 0.48 0.52 1.0
A_CLIMCHOI -0.15  0.71 0.44 0.56 1.1
B_HEQUAL    0.86 -0.16 0.65 0.35 1.1
B_EWEALTH   0.56  0.10 0.37 0.63 1.1
B_ERADEQ    0.76  0.02 0.59 0.41 1.0
B_EDISCRIM  0.70  0.03 0.51 0.49 1.0
B_HREVDIS2  0.89 -0.19 0.67 0.33 1.1
B_HFEMININ  0.96 -0.30 0.77 0.23 1.2

                       MR1  MR2
SS loadings           4.10 1.78
Proportion Var        0.34 0.15
Cumulative Var        0.34 0.49
Proportion Explained  0.70 0.30
Cumulative Proportion 0.70 1.00

 With factor correlations of 
     MR1  MR2
MR1 1.00 0.44
MR2 0.44 1.00

Mean item complexity =  1.2
Test of the hypothesis that 2 factors are sufficient.

df null model =  66  with the objective function =  5.87 with Chi Square =  1434.25
df of  the model are 43  and the objective function was  1.06 

The root mean square of the residuals (RMSR) is  0.07 
The df corrected root mean square of the residuals is  0.09 

The harmonic n.obs is  250 with the empirical chi square  155.58  with prob &lt;  1.2e-14 
The total n.obs was  250  with Likelihood Chi Square =  257.28  with prob &lt;  2.5e-32 

Tucker Lewis Index of factoring reliability =  0.758
RMSEA index =  0.141  and the 90 % confidence intervals are  0.125 0.158
BIC =  19.86
Fit based upon off diagonal values = 0.97
Measures of factor score adequacy             
                                                   MR1  MR2
Correlation of (regression) scores with factors   0.96 0.89
Multiple R square of scores with factors          0.92 0.79
Minimum correlation of possible factor scores     0.84 0.59</code></pre>
</div>
</div>
</section>
<section id="temporal-data-set" class="level3">
<h3 class="anchored" data-anchor-id="temporal-data-set">temporal data set</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### Overall EFA</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>regExOverall <span class="ot">&lt;-</span> <span class="st">"^A_|^B_"</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">cor.plot</span>(<span class="at">r =</span> <span class="fu">cor</span>(dat_temporal[, <span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat_temporal),</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>                                                   <span class="at">pattern =</span> regExOverall)]</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>                        , <span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>),</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">upper =</span> <span class="cn">FALSE</span>, <span class="at">xlas =</span> <span class="dv">2</span>, <span class="at">main =</span> <span class="st">"Overall"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; parallel analysis</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>tmp_parallelAnalysis <span class="ot">&lt;-</span> <span class="fu">dimensionalityTest</span>(<span class="at">label =</span> <span class="st">"Overall"</span>,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>                             <span class="at">regEx =</span> regExOverall, <span class="at">dataset =</span> dat_temporal)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in fa.stats(r = r, f = f, phi = phi, n.obs = n.obs, np.obs = np.obs, :
The estimated weights for the factor scores are probably incorrect.  Try a
different factor score estimation method.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-12-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Parallel analysis suggests that the number of factors =  3  and the number of components =  2 
Overall 
Number of components:  2 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; EFA (# of factors=5)</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>tmp_EFA <span class="ot">&lt;-</span> <span class="fu">explorativeFactorAnalysis</span>(<span class="at">label =</span> <span class="st">"Overall"</span>,</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">regEx =</span> regExOverall,</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">dataset =</span> dat_temporal, <span class="at">nfac =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in fa.stats(r = r, f = f, phi = phi, n.obs = n.obs, np.obs = np.obs, :
The estimated weights for the factor scores are probably incorrect.  Try a
different factor score estimation method.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>tmp_EFA[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Factor Analysis using method =  minres
Call: fa(r = tmp_dat, nfactors = nfac, rotate = "promax", cor = "cor")
Standardized loadings (pattern matrix) based upon correlation matrix
             MR1   MR2   h2   u2 com
A_IINTRSTS  0.16  0.65 0.55 0.45 1.1
A_CHARM     0.10  0.63 0.47 0.53 1.0
A_IPROTECT  0.07  0.68 0.52 0.48 1.0
A_IPRIVACY  0.13  0.72 0.63 0.37 1.1
A_CPROTECT -0.12  0.77 0.51 0.49 1.0
A_CLIMCHOI -0.18  0.71 0.40 0.60 1.1
B_HEQUAL    0.89 -0.12 0.69 0.31 1.0
B_EWEALTH   0.47  0.14 0.31 0.69 1.2
B_ERADEQ    0.70  0.09 0.57 0.43 1.0
B_EDISCRIM  0.75  0.02 0.58 0.42 1.0
B_HREVDIS2  0.88 -0.07 0.72 0.28 1.0
B_HFEMININ  0.85 -0.08 0.66 0.34 1.0

                       MR1  MR2
SS loadings           3.68 2.94
Proportion Var        0.31 0.24
Cumulative Var        0.31 0.55
Proportion Explained  0.56 0.44
Cumulative Proportion 0.56 1.00

 With factor correlations of 
     MR1  MR2
MR1 1.00 0.51
MR2 0.51 1.00

Mean item complexity =  1.1
Test of the hypothesis that 2 factors are sufficient.

df null model =  66  with the objective function =  6.82 with Chi Square =  1630.78
df of  the model are 43  and the objective function was  0.97 

The root mean square of the residuals (RMSR) is  0.06 
The df corrected root mean square of the residuals is  0.07 

The harmonic n.obs is  245 with the empirical chi square  99.49  with prob &lt;  2.3e-06 
The total n.obs was  245  with Likelihood Chi Square =  230.35  with prob &lt;  1.9e-27 

Tucker Lewis Index of factoring reliability =  0.815
RMSEA index =  0.133  and the 90 % confidence intervals are  0.117 0.151
BIC =  -6.2
Fit based upon off diagonal values = 0.98
Measures of factor score adequacy             
                                                   MR1  MR2
Correlation of (regression) scores with factors   0.96 0.93
Multiple R square of scores with factors          0.91 0.87
Minimum correlation of possible factor scores     0.83 0.73</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>the factor structure seems too weak, even ultra-Heywood case</p>
</blockquote>
</section>
</section>
<section id="descriptives-correlation-plot-efa-cfa-for-a-group-individualism-communitarianism" class="level2">
<h2 class="anchored" data-anchor-id="descriptives-correlation-plot-efa-cfa-for-a-group-individualism-communitarianism">Descriptives, correlation plot, EFA, CFA for “A: Group (Individualism-Communitarianism)”</h2>
<p>Here we could apply a self-written function for example to check the reliability and amount of explained variance for the first factor:</p>
<section id="bioinspired-data-set-2" class="level3">
<h3 class="anchored" data-anchor-id="bioinspired-data-set-2">bioinspired data set</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>regEx <span class="ot">&lt;-</span> <span class="st">"^A_"</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>nameVariable <span class="ot">&lt;-</span> <span class="st">"IndividualismCommunitarianism"</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dat_bioinspired</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> regEx))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>tmp_dat <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(dat[,<span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> regEx)])</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">CFAstats</span>(<span class="at">dataset =</span> tmp_dat, <span class="at">regularExp =</span> regEx, <span class="at">labelLatent =</span> <span class="fu">str_remove</span>(<span class="at">string =</span> nameVariable, <span class="at">pattern =</span> <span class="st">"mean_"</span>), </span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">showPlots =</span> <span class="cn">TRUE</span>, </span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeEFA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeCFA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeCFAMplus =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-13-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

descriptive statistics: 
           Mean   SD Median CoeffofVariation Minimum Maximun Lower Quantile
A_IINTRSTS 3.16 1.22      3             0.39       1       6              1
A_CHARM    2.68 1.17      3             0.44       1       6              1
A_IPROTECT 3.28 1.28      3             0.39       1       6              1
A_IPRIVACY 3.60 1.33      4             0.37       1       6              1
A_CPROTECT 3.53 1.28      3             0.36       1       6              1
A_CLIMCHOI 3.33 1.22      3             0.37       1       6              1
           Upper Quantile Skewness Kurtosis(-3) KS-Test
A_IINTRSTS              6     0.25        -0.59       0
A_CHARM                 6     0.62         0.12       0
A_IPROTECT              6     0.15        -0.54       0
A_IPRIVACY              6     0.01        -0.66       0
A_CPROTECT              6    -0.01        -0.62       0
A_CLIMCHOI              6     0.28        -0.28       0


variables under investigation:  A_IINTRSTS A_CHARM A_IPROTECT A_IPRIVACY A_CPROTECT A_CLIMCHOI 

Cronbachs Alpha: 0.74 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-13-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Parallel analysis suggests that the number of factors =  2  and the number of components =  2 
IndividualismCommunitarianism 
Number of components:  2 

KMO criteria is to low (&lt; .6) for: 
 A_IINTRSTS A_IPROTECT A_IPRIVACY 
 mean KMO: 0.63 


EFA factor loadings (1 factor solution): 

Loadings:
           MR1  
A_IINTRSTS 0.563
A_CHARM    0.706
A_IPROTECT 0.370
A_IPRIVACY 0.635
A_CPROTECT 0.630
A_CLIMCHOI 0.616

                 MR1
SS loadings    2.133
Proportion Var 0.355
CFA summary and fit statistics: 
lavaan 0.6.17 ended normally after 37 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        12

  Number of observations                           250

Model Test User Model:
                                              Standard      Scaled
  Test Statistic                               142.473     128.944
  Degrees of freedom                                 9           9
  P-value (Chi-square)                           0.000       0.000
  Scaling correction factor                                  1.105
    Yuan-Bentler correction (Mplus variant)                       

Model Test Baseline Model:

  Test statistic                               403.447     279.260
  Degrees of freedom                                15          15
  P-value                                        0.000       0.000
  Scaling correction factor                                  1.445

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.656       0.546
  Tucker-Lewis Index (TLI)                       0.427       0.244
                                                                  
  Robust Comparative Fit Index (CFI)                         0.653
  Robust Tucker-Lewis Index (TLI)                            0.421

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)              -2330.487   -2330.487
  Scaling correction factor                                  1.370
      for the MLR correction                                      
  Loglikelihood unrestricted model (H1)      -2259.250   -2259.250
  Scaling correction factor                                  1.256
      for the MLR correction                                      
                                                                  
  Akaike (AIC)                                4684.974    4684.974
  Bayesian (BIC)                              4727.231    4727.231
  Sample-size adjusted Bayesian (SABIC)       4689.190    4689.190

Root Mean Square Error of Approximation:

  RMSEA                                          0.244       0.231
  90 Percent confidence interval - lower         0.209       0.198
  90 Percent confidence interval - upper         0.280       0.265
  P-value H_0: RMSEA &lt;= 0.050                    0.000       0.000
  P-value H_0: RMSEA &gt;= 0.080                    1.000       1.000
                                                                  
  Robust RMSEA                                               0.243
  90 Percent confidence interval - lower                     0.207
  90 Percent confidence interval - upper                     0.281
  P-value H_0: Robust RMSEA &lt;= 0.050                         0.000
  P-value H_0: Robust RMSEA &gt;= 0.080                         1.000

Standardized Root Mean Square Residual:

  SRMR                                           0.114       0.114

Parameter Estimates:

  Standard errors                             Sandwich
  Information bread                           Observed
  Observed information based on                Hessian

Latent Variables:
                                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv
  IndividualismCommunitarianism =~                                             
    A_IINTRSTS                        1.000                               0.586
    A_CHARM                           1.411    0.470    3.002    0.003    0.827
    A_IPROTECT                        0.740    0.218    3.387    0.001    0.433
    A_IPRIVACY                        1.193    0.142    8.407    0.000    0.699
    A_CPROTECT                        1.463    0.536    2.732    0.006    0.857
    A_CLIMCHOI                        1.302    0.443    2.943    0.003    0.763
  Std.all
         
    0.481
    0.709
    0.338
    0.526
    0.669
    0.626

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .A_IINTRSTS        1.143    0.186    6.156    0.000    1.143    0.769
   .A_CHARM           0.677    0.127    5.322    0.000    0.677    0.498
   .A_IPROTECT        1.455    0.152    9.590    0.000    1.455    0.886
   .A_IPRIVACY        1.278    0.248    5.158    0.000    1.278    0.723
   .A_CPROTECT        0.906    0.175    5.169    0.000    0.906    0.552
   .A_CLIMCHOI        0.902    0.143    6.314    0.000    0.902    0.608
    IndvdlsmCmmntr    0.343    0.181    1.901    0.057    1.000    1.000</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-13-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

CFA first 6 Modification Indices: 
          lhs op        rhs     mi    epc sepc.lv sepc.all sepc.nox
16 A_IINTRSTS ~~ A_IPRIVACY 90.288  0.833   0.833    0.689    0.689
20    A_CHARM ~~ A_IPRIVACY 21.824 -0.396  -0.396   -0.425   -0.425
17 A_IINTRSTS ~~ A_CPROTECT 16.665 -0.341  -0.341   -0.335   -0.335
23 A_IPROTECT ~~ A_IPRIVACY 14.694  0.363   0.363    0.266    0.266
21    A_CHARM ~~ A_CPROTECT 13.403  0.335   0.335    0.427    0.427
28 A_CPROTECT ~~ A_CLIMCHOI 12.767  0.315   0.315    0.348    0.348</code></pre>
</div>
</div>
</section>
<section id="sustainability-data-set" class="level3">
<h3 class="anchored" data-anchor-id="sustainability-data-set">sustainability data set</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>regEx <span class="ot">&lt;-</span> <span class="st">"^A_"</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>nameVariable <span class="ot">&lt;-</span> <span class="st">"IndividualismCommunitarianism"</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dat_sustainability</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> regEx))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>tmp_dat <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(dat[,<span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> regEx)])</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">CFAstats</span>(<span class="at">dataset =</span> tmp_dat, <span class="at">regularExp =</span> regEx, <span class="at">labelLatent =</span> <span class="fu">str_remove</span>(<span class="at">string =</span> nameVariable, <span class="at">pattern =</span> <span class="st">"mean_"</span>), </span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">showPlots =</span> <span class="cn">TRUE</span>, </span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeEFA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeCFA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeCFAMplus =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-14-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

descriptive statistics: 
           Mean   SD Median CoeffofVariation Minimum Maximun Lower Quantile
A_IINTRSTS 3.18 1.30      3             0.41       1       6              1
A_CHARM    2.74 1.16      3             0.42       1       6              1
A_IPROTECT 3.16 1.35      3             0.43       1       6              1
A_IPRIVACY 3.53 1.32      3             0.37       1       6              1
A_CPROTECT 3.56 1.37      3             0.39       1       6              1
A_CLIMCHOI 3.35 1.24      3             0.37       1       6              1
           Upper Quantile Skewness Kurtosis(-3) KS-Test
A_IINTRSTS              6     0.42        -0.43       0
A_CHARM                 6     0.73         0.43       0
A_IPROTECT              6     0.36        -0.69       0
A_IPRIVACY              6     0.21        -0.73       0
A_CPROTECT              6     0.16        -0.75       0
A_CLIMCHOI              6     0.22        -0.45       0


variables under investigation:  A_IINTRSTS A_CHARM A_IPROTECT A_IPRIVACY A_CPROTECT A_CLIMCHOI 

Cronbachs Alpha: 0.77 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-14-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Parallel analysis suggests that the number of factors =  2  and the number of components =  2 
IndividualismCommunitarianism 
Number of components:  2 



EFA factor loadings (1 factor solution): 

Loadings:
           MR1  
A_IINTRSTS 0.652
A_CHARM    0.685
A_IPROTECT 0.598
A_IPRIVACY 0.717
A_CPROTECT 0.617
A_CLIMCHOI 0.426

                 MR1
SS loadings    2.328
Proportion Var 0.388
CFA summary and fit statistics: 
lavaan 0.6.17 ended normally after 25 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        12

  Number of observations                           296

Model Test User Model:
                                              Standard      Scaled
  Test Statistic                               141.014     124.570
  Degrees of freedom                                 9           9
  P-value (Chi-square)                           0.000       0.000
  Scaling correction factor                                  1.132
    Yuan-Bentler correction (Mplus variant)                       

Model Test Baseline Model:

  Test statistic                               524.342     350.418
  Degrees of freedom                                15          15
  P-value                                        0.000       0.000
  Scaling correction factor                                  1.496

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.741       0.655
  Tucker-Lewis Index (TLI)                       0.568       0.426
                                                                  
  Robust Comparative Fit Index (CFI)                         0.739
  Robust Tucker-Lewis Index (TLI)                            0.566

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)              -2775.305   -2775.305
  Scaling correction factor                                  1.413
      for the MLR correction                                      
  Loglikelihood unrestricted model (H1)      -2704.798   -2704.798
  Scaling correction factor                                  1.293
      for the MLR correction                                      
                                                                  
  Akaike (AIC)                                5574.609    5574.609
  Bayesian (BIC)                              5618.894    5618.894
  Sample-size adjusted Bayesian (SABIC)       5580.838    5580.838

Root Mean Square Error of Approximation:

  RMSEA                                          0.223       0.208
  90 Percent confidence interval - lower         0.191       0.179
  90 Percent confidence interval - upper         0.256       0.239
  P-value H_0: RMSEA &lt;= 0.050                    0.000       0.000
  P-value H_0: RMSEA &gt;= 0.080                    1.000       1.000
                                                                  
  Robust RMSEA                                               0.222
  90 Percent confidence interval - lower                     0.188
  90 Percent confidence interval - upper                     0.257
  P-value H_0: Robust RMSEA &lt;= 0.050                         0.000
  P-value H_0: Robust RMSEA &gt;= 0.080                         1.000

Standardized Root Mean Square Residual:

  SRMR                                           0.117       0.117

Parameter Estimates:

  Standard errors                             Sandwich
  Information bread                           Observed
  Observed information based on                Hessian

Latent Variables:
                                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv
  IndividualismCommunitarianism =~                                             
    A_IINTRSTS                        1.000                               0.987
    A_CHARM                           0.607    0.146    4.167    0.000    0.600
    A_IPROTECT                        0.803    0.117    6.853    0.000    0.792
    A_IPRIVACY                        1.083    0.077   14.101    0.000    1.069
    A_CPROTECT                        0.647    0.172    3.766    0.000    0.639
    A_CLIMCHOI                        0.374    0.147    2.552    0.011    0.369
  Std.all
         
    0.759
    0.517
    0.589
    0.813
    0.466
    0.299

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .A_IINTRSTS        0.718    0.144    4.999    0.000    0.718    0.424
   .A_CHARM           0.987    0.144    6.837    0.000    0.987    0.733
   .A_IPROTECT        1.183    0.139    8.503    0.000    1.183    0.653
   .A_IPRIVACY        0.586    0.132    4.432    0.000    0.586    0.339
   .A_CPROTECT        1.473    0.189    7.814    0.000    1.473    0.783
   .A_CLIMCHOI        1.390    0.133   10.428    0.000    1.390    0.911
    IndvdlsmCmmntr    0.974    0.183    5.331    0.000    1.000    1.000</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-14-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

CFA first 6 Modification Indices: 
          lhs op        rhs     mi    epc sepc.lv sepc.all sepc.nox
16 A_IINTRSTS ~~ A_IPRIVACY 61.793  0.860   0.860    1.326    1.326
21    A_CHARM ~~ A_CPROTECT 55.017  0.566   0.566    0.470    0.470
28 A_CPROTECT ~~ A_CLIMCHOI 51.769  0.626   0.626    0.438    0.438
20    A_CHARM ~~ A_IPRIVACY 16.106 -0.285  -0.285   -0.374   -0.374
22    A_CHARM ~~ A_CLIMCHOI 15.293  0.282   0.282    0.241    0.241
14 A_IINTRSTS ~~    A_CHARM 12.512 -0.241  -0.241   -0.286   -0.286</code></pre>
</div>
</div>
</section>
<section id="temporal-data-set-1" class="level3">
<h3 class="anchored" data-anchor-id="temporal-data-set-1">temporal data set</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>regEx <span class="ot">&lt;-</span> <span class="st">"^A_"</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>nameVariable <span class="ot">&lt;-</span> <span class="st">"IndividualismCommunitarianism"</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dat_temporal</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> regEx))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>tmp_dat <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(dat[,<span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> regEx)])</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">CFAstats</span>(<span class="at">dataset =</span> tmp_dat, <span class="at">regularExp =</span> regEx, <span class="at">labelLatent =</span> <span class="fu">str_remove</span>(<span class="at">string =</span> nameVariable, <span class="at">pattern =</span> <span class="st">"mean_"</span>), </span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">showPlots =</span> <span class="cn">TRUE</span>, </span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeEFA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeCFA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeCFAMplus =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-15-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

descriptive statistics: 
           Mean   SD Median CoeffofVariation Minimum Maximun Lower Quantile
A_IINTRSTS 3.27 1.47      3             0.45       1       6              1
A_CHARM    2.74 1.28      3             0.47       1       6              1
A_IPROTECT 3.26 1.37      3             0.42       1       6              1
A_IPRIVACY 3.69 1.45      4             0.39       1       6              1
A_CPROTECT 3.56 1.37      3             0.38       1       6              1
A_CLIMCHOI 3.31 1.23      3             0.37       1       6              1
           Upper Quantile Skewness Kurtosis(-3) KS-Test
A_IINTRSTS              6     0.41        -0.78       0
A_CHARM                 6     0.49        -0.43       0
A_IPROTECT              6     0.29        -0.65       0
A_IPRIVACY              6     0.04        -0.94       0
A_CPROTECT              6     0.19        -0.73       0
A_CLIMCHOI              6     0.11        -0.41       0


variables under investigation:  A_IINTRSTS A_CHARM A_IPROTECT A_IPRIVACY A_CPROTECT A_CLIMCHOI 

Cronbachs Alpha: 0.86 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-15-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Parallel analysis suggests that the number of factors =  3  and the number of components =  1 
IndividualismCommunitarianism 
Number of components:  1 



EFA factor loadings (1 factor solution): 

Loadings:
           MR1  
A_IINTRSTS 0.752
A_CHARM    0.723
A_IPROTECT 0.744
A_IPRIVACY 0.827
A_CPROTECT 0.708
A_CLIMCHOI 0.613

                 MR1
SS loadings    3.202
Proportion Var 0.534
CFA summary and fit statistics: 
lavaan 0.6.17 ended normally after 21 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        12

  Number of observations                           245

Model Test User Model:
                                              Standard      Scaled
  Test Statistic                                69.979      51.886
  Degrees of freedom                                 9           9
  P-value (Chi-square)                           0.000       0.000
  Scaling correction factor                                  1.349
    Yuan-Bentler correction (Mplus variant)                       

Model Test Baseline Model:

  Test statistic                               629.675     428.403
  Degrees of freedom                                15          15
  P-value                                        0.000       0.000
  Scaling correction factor                                  1.470

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.901       0.896
  Tucker-Lewis Index (TLI)                       0.835       0.827
                                                                  
  Robust Comparative Fit Index (CFI)                         0.905
  Robust Tucker-Lewis Index (TLI)                            0.841

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)              -2253.167   -2253.167
  Scaling correction factor                                  1.162
      for the MLR correction                                      
  Loglikelihood unrestricted model (H1)      -2218.177   -2218.177
  Scaling correction factor                                  1.242
      for the MLR correction                                      
                                                                  
  Akaike (AIC)                                4530.334    4530.334
  Bayesian (BIC)                              4572.349    4572.349
  Sample-size adjusted Bayesian (SABIC)       4534.310    4534.310

Root Mean Square Error of Approximation:

  RMSEA                                          0.166       0.139
  90 Percent confidence interval - lower         0.131       0.109
  90 Percent confidence interval - upper         0.204       0.172
  P-value H_0: RMSEA &lt;= 0.050                    0.000       0.000
  P-value H_0: RMSEA &gt;= 0.080                    1.000       0.999
                                                                  
  Robust RMSEA                                               0.162
  90 Percent confidence interval - lower                     0.121
  90 Percent confidence interval - upper                     0.206
  P-value H_0: Robust RMSEA &lt;= 0.050                         0.000
  P-value H_0: Robust RMSEA &gt;= 0.080                         0.999

Standardized Root Mean Square Residual:

  SRMR                                           0.062       0.062

Parameter Estimates:

  Standard errors                             Sandwich
  Information bread                           Observed
  Observed information based on                Hessian

Latent Variables:
                                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv
  IndividualismCommunitarianism =~                                             
    A_IINTRSTS                        1.000                               1.138
    A_CHARM                           0.756    0.082    9.205    0.000    0.861
    A_IPROTECT                        0.860    0.081   10.577    0.000    0.979
    A_IPRIVACY                        1.043    0.064   16.188    0.000    1.187
    A_CPROTECT                        0.798    0.083    9.587    0.000    0.908
    A_CLIMCHOI                        0.607    0.091    6.644    0.000    0.691
  Std.all
         
    0.776
    0.674
    0.718
    0.818
    0.665
    0.563

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .A_IINTRSTS        0.854    0.123    6.975    0.000    0.854    0.397
   .A_CHARM           0.889    0.122    7.285    0.000    0.889    0.546
   .A_IPROTECT        0.900    0.128    7.024    0.000    0.900    0.485
   .A_IPRIVACY        0.698    0.103    6.805    0.000    0.698    0.331
   .A_CPROTECT        1.038    0.153    6.803    0.000    1.038    0.557
   .A_CLIMCHOI        1.028    0.124    8.287    0.000    1.028    0.683
    IndvdlsmCmmntr    1.295    0.179    7.234    0.000    1.000    1.000</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-15-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

CFA first 6 Modification Indices: 
          lhs op        rhs     mi    epc sepc.lv sepc.all sepc.nox
28 A_CPROTECT ~~ A_CLIMCHOI 29.120  0.401   0.401    0.388    0.388
19    A_CHARM ~~ A_IPROTECT 27.192  0.367   0.367    0.410    0.410
16 A_IINTRSTS ~~ A_IPRIVACY 25.854  0.432   0.432    0.560    0.560
18 A_IINTRSTS ~~ A_CLIMCHOI 13.448 -0.270  -0.270   -0.288   -0.288
23 A_IPROTECT ~~ A_IPRIVACY  4.867 -0.171  -0.171   -0.215   -0.215
14 A_IINTRSTS ~~    A_CHARM  4.321 -0.153  -0.153   -0.176   -0.176</code></pre>
</div>
</div>
</section>
</section>
<section id="descriptives-correlation-plot-efa-cfa-for-b-grid-hierarchy-egalitarianism" class="level2">
<h2 class="anchored" data-anchor-id="descriptives-correlation-plot-efa-cfa-for-b-grid-hierarchy-egalitarianism">Descriptives, correlation plot, EFA, CFA for “B: Grid (Hierarchy-Egalitarianism)”</h2>
<p>Here we could apply a self-written function for example to check the reliability and amount of explained variance for the first factor:</p>
<section id="bioinspired-data-set-3" class="level3">
<h3 class="anchored" data-anchor-id="bioinspired-data-set-3">bioinspired data set</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>regEx <span class="ot">&lt;-</span> <span class="st">"^B_"</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>nameVariable <span class="ot">&lt;-</span> <span class="st">"HierarchyEgalitarianism"</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dat_bioinspired</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> regEx))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>tmp_dat <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(dat[,<span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> regEx)])</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">CFAstats</span>(<span class="at">dataset =</span> tmp_dat, <span class="at">regularExp =</span> regEx, <span class="at">labelLatent =</span> <span class="fu">str_remove</span>(<span class="at">string =</span> nameVariable, <span class="at">pattern =</span> <span class="st">"mean_"</span>), </span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">showPlots =</span> <span class="cn">TRUE</span>, </span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeEFA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeCFA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeCFAMplus =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-16-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

descriptive statistics: 
           Mean   SD Median CoeffofVariation Minimum Maximun Lower Quantile
B_HEQUAL   2.39 1.58      2             0.66       1       6              1
B_EWEALTH  2.25 1.33      2             0.59       1       6              1
B_ERADEQ   2.18 1.29      2             0.59       1       6              1
B_EDISCRIM 2.12 1.27      2             0.60       1       6              1
B_HREVDIS2 2.62 1.65      2             0.63       1       6              1
B_HFEMININ 2.53 1.69      2             0.67       1       6              1
           Upper Quantile Skewness Kurtosis(-3) KS-Test
B_HEQUAL                6     0.86        -0.44       0
B_EWEALTH               6     1.05         0.37       0
B_ERADEQ                6     1.14         0.98       0
B_EDISCRIM              6     1.14         0.75       0
B_HREVDIS2              6     0.59        -0.91       0
B_HFEMININ              6     0.71        -0.92       0


variables under investigation:  B_HEQUAL B_EWEALTH B_ERADEQ B_EDISCRIM B_HREVDIS2 B_HFEMININ 

Cronbachs Alpha: 0.89 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-16-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Parallel analysis suggests that the number of factors =  2  and the number of components =  1 
HierarchyEgalitarianism 
Number of components:  1 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

EFA factor loadings (1 factor solution): 

Loadings:
           MR1  
B_HEQUAL   0.844
B_EWEALTH  0.636
B_ERADEQ   0.845
B_EDISCRIM 0.796
B_HREVDIS2 0.842
B_HFEMININ 0.866

                 MR1
SS loadings    3.923
Proportion Var 0.654
CFA summary and fit statistics: 
lavaan 0.6.17 ended normally after 22 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        12

  Number of observations                           250

Model Test User Model:
                                              Standard      Scaled
  Test Statistic                               110.717      70.998
  Degrees of freedom                                 9           9
  P-value (Chi-square)                           0.000       0.000
  Scaling correction factor                                  1.559
    Yuan-Bentler correction (Mplus variant)                       

Model Test Baseline Model:

  Test statistic                               895.564     553.808
  Degrees of freedom                                15          15
  P-value                                        0.000       0.000
  Scaling correction factor                                  1.617

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.884       0.885
  Tucker-Lewis Index (TLI)                       0.807       0.808
                                                                  
  Robust Comparative Fit Index (CFI)                         0.889
  Robust Tucker-Lewis Index (TLI)                            0.815

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)              -2298.734   -2298.734
  Scaling correction factor                                  1.345
      for the MLR correction                                      
  Loglikelihood unrestricted model (H1)      -2243.376   -2243.376
  Scaling correction factor                                  1.437
      for the MLR correction                                      
                                                                  
  Akaike (AIC)                                4621.469    4621.469
  Bayesian (BIC)                              4663.727    4663.727
  Sample-size adjusted Bayesian (SABIC)       4625.685    4625.685

Root Mean Square Error of Approximation:

  RMSEA                                          0.213       0.166
  90 Percent confidence interval - lower         0.178       0.138
  90 Percent confidence interval - upper         0.249       0.195
  P-value H_0: RMSEA &lt;= 0.050                    0.000       0.000
  P-value H_0: RMSEA &gt;= 0.080                    1.000       1.000
                                                                  
  Robust RMSEA                                               0.207
  90 Percent confidence interval - lower                     0.164
  90 Percent confidence interval - upper                     0.253
  P-value H_0: Robust RMSEA &lt;= 0.050                         0.000
  P-value H_0: Robust RMSEA &gt;= 0.080                         1.000

Standardized Root Mean Square Residual:

  SRMR                                           0.063       0.063

Parameter Estimates:

  Standard errors                             Sandwich
  Information bread                           Observed
  Observed information based on                Hessian

Latent Variables:
                             Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv
  HierarchyEgalitarianism =~                                             
    B_HEQUAL                    1.000                               1.265
    B_EWEALTH                   0.603    0.078    7.758    0.000    0.763
    B_ERADEQ                    0.780    0.066   11.736    0.000    0.986
    B_EDISCRIM                  0.735    0.069   10.618    0.000    0.930
    B_HREVDIS2                  1.076    0.064   16.875    0.000    1.361
    B_HFEMININ                  1.128    0.066   16.972    0.000    1.427
  Std.all
         
    0.801
    0.575
    0.767
    0.734
    0.827
    0.845

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .B_HEQUAL          0.893    0.159    5.626    0.000    0.893    0.358
   .B_EWEALTH         1.182    0.140    8.467    0.000    1.182    0.670
   .B_ERADEQ          0.681    0.093    7.298    0.000    0.681    0.412
   .B_EDISCRIM        0.741    0.108    6.846    0.000    0.741    0.461
   .B_HREVDIS2        0.854    0.121    7.034    0.000    0.854    0.315
   .B_HFEMININ        0.813    0.127    6.393    0.000    0.813    0.285
    HrrchyEgltrnsm    1.601    0.190    8.413    0.000    1.000    1.000</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-16-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

CFA first 6 Modification Indices: 
          lhs op        rhs     mi    epc sepc.lv sepc.all sepc.nox
19  B_EWEALTH ~~   B_ERADEQ 39.040  0.402   0.402    0.448    0.448
23   B_ERADEQ ~~ B_EDISCRIM 36.925  0.331   0.331    0.466    0.466
28 B_HREVDIS2 ~~ B_HFEMININ 29.148  0.459   0.459    0.551    0.551
27 B_EDISCRIM ~~ B_HFEMININ 23.130 -0.323  -0.323   -0.416   -0.416
21  B_EWEALTH ~~ B_HREVDIS2 17.406 -0.319  -0.319   -0.318   -0.318
25   B_ERADEQ ~~ B_HFEMININ 13.302 -0.245  -0.245   -0.329   -0.329</code></pre>
</div>
</div>
</section>
<section id="sustainability-data-set-1" class="level3">
<h3 class="anchored" data-anchor-id="sustainability-data-set-1">sustainability data set</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>regEx <span class="ot">&lt;-</span> <span class="st">"^B_"</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>nameVariable <span class="ot">&lt;-</span> <span class="st">"HierarchyEgalitarianism"</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dat_sustainability</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> regEx))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>tmp_dat <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(dat[,<span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> regEx)])</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">CFAstats</span>(<span class="at">dataset =</span> tmp_dat, <span class="at">regularExp =</span> regEx, <span class="at">labelLatent =</span> <span class="fu">str_remove</span>(<span class="at">string =</span> nameVariable, <span class="at">pattern =</span> <span class="st">"mean_"</span>), </span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">showPlots =</span> <span class="cn">TRUE</span>, </span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeEFA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeCFA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeCFAMplus =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-17-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

descriptive statistics: 
           Mean   SD Median CoeffofVariation Minimum Maximun Lower Quantile
B_HEQUAL   2.26 1.51      2             0.67       1       6              1
B_EWEALTH  2.10 1.18      2             0.56       1       6              1
B_ERADEQ   2.06 1.26      2             0.61       1       6              1
B_EDISCRIM 2.08 1.23      2             0.59       1       6              1
B_HREVDIS2 2.50 1.68      2             0.67       1       6              1
B_HFEMININ 2.30 1.61      2             0.70       1       6              1
           Upper Quantile Skewness Kurtosis(-3) KS-Test
B_HEQUAL                6     1.00        -0.12       0
B_EWEALTH               6     1.26         1.57       0
B_ERADEQ                6     1.37         1.46       0
B_EDISCRIM              6     1.33         1.29       0
B_HREVDIS2              6     0.82        -0.68       0
B_HFEMININ              6     0.97        -0.39       0


variables under investigation:  B_HEQUAL B_EWEALTH B_ERADEQ B_EDISCRIM B_HREVDIS2 B_HFEMININ 

Cronbachs Alpha: 0.86 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-17-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Parallel analysis suggests that the number of factors =  2  and the number of components =  1 
HierarchyEgalitarianism 
Number of components:  1 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

EFA factor loadings (1 factor solution): 

Loadings:
           MR1  
B_HEQUAL   0.839
B_EWEALTH  0.579
B_ERADEQ   0.814
B_EDISCRIM 0.812
B_HREVDIS2 0.802
B_HFEMININ 0.808

                 MR1
SS loadings    3.656
Proportion Var 0.609
CFA summary and fit statistics: 
lavaan 0.6.17 ended normally after 20 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        12

  Number of observations                           296

Model Test User Model:
                                              Standard      Scaled
  Test Statistic                                60.958      39.704
  Degrees of freedom                                 9           9
  P-value (Chi-square)                           0.000       0.000
  Scaling correction factor                                  1.535
    Yuan-Bentler correction (Mplus variant)                       

Model Test Baseline Model:

  Test statistic                               810.479     474.558
  Degrees of freedom                                15          15
  P-value                                        0.000       0.000
  Scaling correction factor                                  1.708

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.935       0.933
  Tucker-Lewis Index (TLI)                       0.891       0.889
                                                                  
  Robust Comparative Fit Index (CFI)                         0.940
  Robust Tucker-Lewis Index (TLI)                            0.900

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)              -2735.732   -2735.732
  Scaling correction factor                                  1.614
      for the MLR correction                                      
  Loglikelihood unrestricted model (H1)      -2705.253   -2705.253
  Scaling correction factor                                  1.580
      for the MLR correction                                      
                                                                  
  Akaike (AIC)                                5495.464    5495.464
  Bayesian (BIC)                              5539.749    5539.749
  Sample-size adjusted Bayesian (SABIC)       5501.693    5501.693

Root Mean Square Error of Approximation:

  RMSEA                                          0.140       0.107
  90 Percent confidence interval - lower         0.108       0.081
  90 Percent confidence interval - upper         0.174       0.136
  P-value H_0: RMSEA &lt;= 0.050                    0.000       0.000
  P-value H_0: RMSEA &gt;= 0.080                    0.999       0.954
                                                                  
  Robust RMSEA                                               0.133
  90 Percent confidence interval - lower                     0.092
  90 Percent confidence interval - upper                     0.177
  P-value H_0: Robust RMSEA &lt;= 0.050                         0.001
  P-value H_0: Robust RMSEA &gt;= 0.080                         0.983

Standardized Root Mean Square Residual:

  SRMR                                           0.052       0.052

Parameter Estimates:

  Standard errors                             Sandwich
  Information bread                           Observed
  Observed information based on                Hessian

Latent Variables:
                             Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv
  HierarchyEgalitarianism =~                                             
    B_HEQUAL                    1.000                               1.168
    B_EWEALTH                   0.504    0.078    6.483    0.000    0.589
    B_ERADEQ                    0.783    0.077   10.171    0.000    0.915
    B_EDISCRIM                  0.819    0.080   10.203    0.000    0.957
    B_HREVDIS2                  1.109    0.070   15.812    0.000    1.295
    B_HFEMININ                  1.039    0.075   13.800    0.000    1.214
  Std.all
         
    0.774
    0.502
    0.729
    0.779
    0.772
    0.757

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .B_HEQUAL          0.916    0.158    5.805    0.000    0.916    0.401
   .B_EWEALTH         1.031    0.118    8.737    0.000    1.031    0.748
   .B_ERADEQ          0.738    0.113    6.523    0.000    0.738    0.469
   .B_EDISCRIM        0.594    0.092    6.429    0.000    0.594    0.393
   .B_HREVDIS2        1.140    0.170    6.712    0.000    1.140    0.405
   .B_HFEMININ        1.095    0.158    6.946    0.000    1.095    0.426
    HrrchyEgltrnsm    1.365    0.178    7.661    0.000    1.000    1.000</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-17-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

CFA first 6 Modification Indices: 
          lhs op        rhs     mi    epc sepc.lv sepc.all sepc.nox
19  B_EWEALTH ~~   B_ERADEQ 23.905  0.281   0.281    0.322    0.322
23   B_ERADEQ ~~ B_EDISCRIM 21.659  0.241   0.241    0.364    0.364
28 B_HREVDIS2 ~~ B_HFEMININ 18.887  0.390   0.390    0.349    0.349
25   B_ERADEQ ~~ B_HFEMININ 10.651 -0.222  -0.222   -0.247   -0.247
21  B_EWEALTH ~~ B_HREVDIS2  9.111 -0.223  -0.223   -0.205   -0.205
24   B_ERADEQ ~~ B_HREVDIS2  7.761 -0.197  -0.197   -0.215   -0.215</code></pre>
</div>
</div>
</section>
<section id="temporal-data-set-2" class="level3">
<h3 class="anchored" data-anchor-id="temporal-data-set-2">temporal data set</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>regEx <span class="ot">&lt;-</span> <span class="st">"^B_"</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>nameVariable <span class="ot">&lt;-</span> <span class="st">"HierarchyEgalitarianism"</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dat_temporal</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> regEx))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>tmp_dat <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(dat[,<span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> regEx)])</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">CFAstats</span>(<span class="at">dataset =</span> tmp_dat, <span class="at">regularExp =</span> regEx, <span class="at">labelLatent =</span> <span class="fu">str_remove</span>(<span class="at">string =</span> nameVariable, <span class="at">pattern =</span> <span class="st">"mean_"</span>), </span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">showPlots =</span> <span class="cn">TRUE</span>, </span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeEFA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeCFA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeCFAMplus =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-18-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

descriptive statistics: 
           Mean   SD Median CoeffofVariation Minimum Maximun Lower Quantile
B_HEQUAL   2.36 1.58      2             0.67       1       6              1
B_EWEALTH  2.25 1.28      2             0.57       1       6              1
B_ERADEQ   2.28 1.46      2             0.64       1       6              1
B_EDISCRIM 2.21 1.34      2             0.61       1       6              1
B_HREVDIS2 2.72 1.76      2             0.65       1       6              1
B_HFEMININ 2.51 1.60      2             0.64       1       6              1
           Upper Quantile Skewness Kurtosis(-3) KS-Test
B_HEQUAL                6     0.80        -0.69       0
B_EWEALTH               6     0.97         0.36       0
B_ERADEQ                6     1.07         0.22       0
B_EDISCRIM              6     1.12         0.61       0
B_HREVDIS2              6     0.61        -1.02       0
B_HFEMININ              6     0.70        -0.75       0


variables under investigation:  B_HEQUAL B_EWEALTH B_ERADEQ B_EDISCRIM B_HREVDIS2 B_HFEMININ 

Cronbachs Alpha: 0.89 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-18-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Parallel analysis suggests that the number of factors =  2  and the number of components =  1 
HierarchyEgalitarianism 
Number of components:  1 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

EFA factor loadings (1 factor solution): 

Loadings:
           MR1  
B_HEQUAL   0.875
B_EWEALTH  0.629
B_ERADEQ   0.817
B_EDISCRIM 0.815
B_HREVDIS2 0.880
B_HFEMININ 0.841

                 MR1
SS loadings    3.974
Proportion Var 0.662
CFA summary and fit statistics: 
lavaan 0.6.17 ended normally after 23 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        12

  Number of observations                           245

Model Test User Model:
                                              Standard      Scaled
  Test Statistic                               137.180      90.705
  Degrees of freedom                                 9           9
  P-value (Chi-square)                           0.000       0.000
  Scaling correction factor                                  1.512
    Yuan-Bentler correction (Mplus variant)                       

Model Test Baseline Model:

  Test statistic                               917.174     569.683
  Degrees of freedom                                15          15
  P-value                                        0.000       0.000
  Scaling correction factor                                  1.610

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.858       0.853
  Tucker-Lewis Index (TLI)                       0.763       0.755
                                                                  
  Robust Comparative Fit Index (CFI)                         0.862
  Robust Tucker-Lewis Index (TLI)                            0.769

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)              -2286.206   -2286.206
  Scaling correction factor                                  1.325
      for the MLR correction                                      
  Loglikelihood unrestricted model (H1)      -2217.616   -2217.616
  Scaling correction factor                                  1.405
      for the MLR correction                                      
                                                                  
  Akaike (AIC)                                4596.412    4596.412
  Bayesian (BIC)                              4638.427    4638.427
  Sample-size adjusted Bayesian (SABIC)       4600.388    4600.388

Root Mean Square Error of Approximation:

  RMSEA                                          0.241       0.192
  90 Percent confidence interval - lower         0.206       0.164
  90 Percent confidence interval - upper         0.278       0.222
  P-value H_0: RMSEA &lt;= 0.050                    0.000       0.000
  P-value H_0: RMSEA &gt;= 0.080                    1.000       1.000
                                                                  
  Robust RMSEA                                               0.237
  90 Percent confidence interval - lower                     0.194
  90 Percent confidence interval - upper                     0.282
  P-value H_0: Robust RMSEA &lt;= 0.050                         0.000
  P-value H_0: Robust RMSEA &gt;= 0.080                         1.000

Standardized Root Mean Square Residual:

  SRMR                                           0.077       0.077

Parameter Estimates:

  Standard errors                             Sandwich
  Information bread                           Observed
  Observed information based on                Hessian

Latent Variables:
                             Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv
  HierarchyEgalitarianism =~                                             
    B_HEQUAL                    1.000                               1.329
    B_EWEALTH                   0.506    0.072    7.043    0.000    0.673
    B_ERADEQ                    0.782    0.077   10.138    0.000    1.039
    B_EDISCRIM                  0.763    0.075   10.136    0.000    1.014
    B_HREVDIS2                  1.142    0.052   21.912    0.000    1.517
    B_HFEMININ                  0.987    0.068   14.551    0.000    1.312
  Std.all
         
    0.840
    0.525
    0.711
    0.756
    0.865
    0.820

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .B_HEQUAL          0.734    0.117    6.296    0.000    0.734    0.294
   .B_EWEALTH         1.187    0.133    8.935    0.000    1.187    0.724
   .B_ERADEQ          1.055    0.141    7.468    0.000    1.055    0.494
   .B_EDISCRIM        0.770    0.106    7.246    0.000    0.770    0.428
   .B_HREVDIS2        0.772    0.118    6.540    0.000    0.772    0.251
   .B_HFEMININ        0.839    0.133    6.335    0.000    0.839    0.328
    HrrchyEgltrnsm    1.766    0.207    8.522    0.000    1.000    1.000</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-18-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

CFA first 6 Modification Indices: 
          lhs op        rhs     mi    epc sepc.lv sepc.all sepc.nox
19  B_EWEALTH ~~   B_ERADEQ 63.430  0.617   0.617    0.551    0.551
23   B_ERADEQ ~~ B_EDISCRIM 40.496  0.429   0.429    0.475    0.475
24   B_ERADEQ ~~ B_HREVDIS2 20.374 -0.358  -0.358   -0.396   -0.396
28 B_HREVDIS2 ~~ B_HFEMININ  9.631  0.262   0.262    0.326    0.326
21  B_EWEALTH ~~ B_HREVDIS2  9.604 -0.237  -0.237   -0.247   -0.247
17   B_HEQUAL ~~ B_HREVDIS2  8.528  0.246   0.246    0.326    0.326</code></pre>
</div>
</div>
</section>
</section>
<section id="item-response-theory-polytomous-for-a-group-individualism-communitarianism" class="level2">
<h2 class="anchored" data-anchor-id="item-response-theory-polytomous-for-a-group-individualism-communitarianism">Item Response Theory (polytomous) for “A: Group (Individualism-Communitarianism)”</h2>
<p>Factor Loadings (F1) indicate how strongly each item is associated with the latent trait, rule of thumb:</p>
<ul>
<li>0.70 = strong</li>
<li>0.40–0.69 = moderate</li>
<li>&lt; 0.40 = weak</li>
</ul>
<p>Communality (h²) is the proportion of variance in each item explained by the factor, rule of thumb: + h² &gt; 0.40 → item is well represented + h² &lt; 0.30 → potentially problematic item</p>
<section id="bioinspired-data-set-4" class="level3">
<h3 class="anchored" data-anchor-id="bioinspired-data-set-4">bioinspired data set</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Choose dataset and regular expression</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dat_bioinspired</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>regEx <span class="ot">&lt;-</span> <span class="st">"^A_"</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter variables matching the pattern</span></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>irt_items <span class="ot">&lt;-</span> dat[, <span class="fu">str_detect</span>(<span class="fu">colnames</span>(dat), <span class="at">pattern =</span> regEx)]</span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop rows with missing data (mirt requires complete cases)</span></span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a>irt_items <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(irt_items)</span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure all items are treated as ordered factors</span></span>
<span id="cb85-12"><a href="#cb85-12" aria-hidden="true" tabindex="-1"></a>irt_items[] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(irt_items, <span class="cf">function</span>(x) <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(x)))</span>
<span id="cb85-13"><a href="#cb85-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit Graded Response Model (1-factor)</span></span>
<span id="cb85-14"><a href="#cb85-14" aria-hidden="true" tabindex="-1"></a>mod_grm <span class="ot">&lt;-</span> <span class="fu">mirt</span>(<span class="at">data =</span> irt_items, <span class="at">model =</span> <span class="dv">1</span>, <span class="at">itemtype =</span> <span class="st">"graded"</span>, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb85-15"><a href="#cb85-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-16"><a href="#cb85-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize model</span></span>
<span id="cb85-17"><a href="#cb85-17" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod_grm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              F1    h2
A_IINTRSTS 0.524 0.274
A_CHARM    0.769 0.592
A_IPROTECT 0.398 0.158
A_IPRIVACY 0.588 0.345
A_CPROTECT 0.724 0.525
A_CLIMCHOI 0.709 0.502

SS loadings:  2.397 
Proportion Var:  0.399 

Factor correlations: 

   F1
F1  1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot Item Characteristic Curves (ICCs) for all items</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mod_grm, <span class="at">type =</span> <span class="st">"trace"</span>, <span class="at">facet_items =</span> <span class="cn">TRUE</span>, <span class="at">main =</span> <span class="st">"Item Characteristic Curves"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot Test Information Curve</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mod_grm, <span class="at">type =</span> <span class="st">"info"</span>, <span class="at">main =</span> <span class="st">"Test Information Curve: Individualism–Communitarianism"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-19-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="do">### compare results to:</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.plot</span>(<span class="at">r =</span> <span class="fu">cor</span>(irt_items))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-19-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Compare 1-Factor vs.&nbsp;2-Factor Models:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>mod_1f <span class="ot">&lt;-</span> <span class="fu">mirt</span>(<span class="at">data =</span> irt_items, <span class="at">model =</span> <span class="dv">1</span>, <span class="at">itemtype =</span> <span class="st">"graded"</span>, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>mod_2f <span class="ot">&lt;-</span> <span class="fu">mirt</span>(<span class="at">data =</span> irt_items, <span class="at">model =</span> <span class="dv">2</span>, <span class="at">itemtype =</span> <span class="st">"graded"</span>, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(mod_1f, mod_2f)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            AIC    SABIC       HQ      BIC    logLik     X2 df p
mod_1f 4600.444 4613.093 4651.466 4727.217 -2264.222            
mod_2f 4500.184 4514.590 4558.292 4644.564 -2209.092 110.26  5 0</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>significant p-value (e.g., &lt; .05) supports the 2-factor model.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod_2f)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Rotation:  oblimin 

Rotated factor loadings: 

                 F1      F2    h2
A_IINTRSTS -0.00450  0.7770 0.601
A_CHARM     0.72260  0.0711 0.572
A_IPROTECT  0.10666  0.3839 0.194
A_IPRIVACY -0.00108  0.9104 0.828
A_CPROTECT  0.85698 -0.0584 0.694
A_CLIMCHOI  0.72764  0.0329 0.551

Rotated SS loadings:  1.797 1.589 

Factor correlations: 

      F1 F2
F1 1.000   
F2 0.434  1</code></pre>
</div>
</div>
</section>
</section>
<section id="latent-class-analysis-for-a-group-individualism-communitarianism" class="level2">
<h2 class="anchored" data-anchor-id="latent-class-analysis-for-a-group-individualism-communitarianism">latent class analysis for “A: Group (Individualism-Communitarianism)”</h2>
<p>over complete data set:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"outputs"</span>)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(runLCA){</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>  LCA_dat <span class="ot">&lt;-</span> dat_combined_long[, <span class="fu">c</span>(<span class="st">"CASE"</span>, <span class="fu">str_subset</span>(<span class="fu">colnames</span>(dat_combined_long), <span class="st">"^A_"</span>))]</span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>  tmp <span class="ot">&lt;-</span> <span class="fu">str_subset</span>(<span class="fu">colnames</span>(LCA_dat), <span class="st">"^A_"</span>)</span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(LCA_dat)[<span class="sc">-</span><span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">str_remove_all</span>(tmp, <span class="st">"^A_"</span>)</span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Ensure all variables are treated as categorical (factors)</span></span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a>  LCA_dat[] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(LCA_dat, <span class="cf">function</span>(x) <span class="fu">as.factor</span>(<span class="fu">as.character</span>(x)))</span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Drop rows with missing data</span></span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a>  LCA_dat <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(LCA_dat)</span>
<span id="cb94-15"><a href="#cb94-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb94-16"><a href="#cb94-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create formula for poLCA</span></span>
<span id="cb94-17"><a href="#cb94-17" aria-hidden="true" tabindex="-1"></a>  lca_vars <span class="ot">&lt;-</span> <span class="fu">colnames</span>(LCA_dat)[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb94-18"><a href="#cb94-18" aria-hidden="true" tabindex="-1"></a>  f <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="fu">paste</span>(<span class="st">"cbind("</span>, <span class="fu">paste</span>(lca_vars, <span class="at">collapse =</span> <span class="st">", "</span>), <span class="st">") ~ 1"</span>))</span>
<span id="cb94-19"><a href="#cb94-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb94-20"><a href="#cb94-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Run poLCA models for 2 to LCArunsDef classes</span></span>
<span id="cb94-21"><a href="#cb94-21" aria-hidden="true" tabindex="-1"></a>  list_lca_IndCom <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb94-22"><a href="#cb94-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># for reproducibility</span></span>
<span id="cb94-23"><a href="#cb94-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb94-24"><a href="#cb94-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>LCArunsDef) {</span>
<span id="cb94-25"><a href="#cb94-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"Fitting"</span>, i, <span class="st">"class model...</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb94-26"><a href="#cb94-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb94-27"><a href="#cb94-27" aria-hidden="true" tabindex="-1"></a>    lca_model <span class="ot">&lt;-</span> <span class="fu">poLCA</span>(f, <span class="at">data =</span> LCA_dat, <span class="at">nclass =</span> i, <span class="at">maxiter =</span> <span class="dv">5000</span>, </span>
<span id="cb94-28"><a href="#cb94-28" aria-hidden="true" tabindex="-1"></a>                       <span class="at">nrep =</span> nRep_def, <span class="at">verbose =</span> <span class="cn">FALSE</span>, </span>
<span id="cb94-29"><a href="#cb94-29" aria-hidden="true" tabindex="-1"></a>                       <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb94-30"><a href="#cb94-30" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb94-31"><a href="#cb94-31" aria-hidden="true" tabindex="-1"></a>    list_lca_IndCom[[i<span class="dv">-1</span>]] <span class="ot">&lt;-</span> lca_model</span>
<span id="cb94-32"><a href="#cb94-32" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb94-33"><a href="#cb94-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-34"><a href="#cb94-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save results</span></span>
<span id="cb94-35"><a href="#cb94-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(list_lca_IndCom, <span class="at">file =</span> <span class="st">"list_lca_IndCom.rds"</span>)</span>
<span id="cb94-36"><a href="#cb94-36" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb94-37"><a href="#cb94-37" aria-hidden="true" tabindex="-1"></a>  list_lca_IndCom <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"list_lca_IndCom.rds"</span> )</span>
<span id="cb94-38"><a href="#cb94-38" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Fitting 2 class model...
Fitting 3 class model...
Fitting 4 class model...
Fitting 5 class model...
Fitting 6 class model...</code></pre>
</div>
</div>
<p>get fit statistics LCA:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getLCAfitstatistics</span>(<span class="at">listLCAoutput =</span> list_lca_IndCom)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  Classes        LL      AIC      BIC    SABIC     CAIC   Entropy
1       2 -7328.362 14778.72 15063.79 14870.09 15124.79 0.7779627
2       3 -7075.011 14334.02 14763.96 14471.82 14855.96 0.7906235
3       4 -6972.782 14191.56 14766.38 14375.79 14889.38 0.7850875
4       5 -6893.408 14094.82 14814.50 14325.47 14968.50 0.8039220
5       6 -6831.031 14032.06 14896.62 14309.15 15081.62 0.8114722</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_poLCA_profile</span>(</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>  list_lca_IndCom[[<span class="dv">2</span>]], </span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">class_labels =</span> <span class="fu">c</span>(<span class="st">"Class 1"</span>, <span class="st">"Class 2"</span>, <span class="st">"Class 3"</span>), </span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"LCA Response Probabilities (3-Class Solution)"</span></span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psychometrySurvey_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="references" class="level1 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-pengArtDataScience2016" class="csl-entry" role="listitem">
Peng, Roger D., and Elizabeth Matsui. 2016. <em>The Art of Data Science: A Guide for Anyone Who Works with Data</em>. Lulu.com. <a href="https://bookdown.org/rdpeng/artofdatascience/">https://bookdown.org/rdpeng/artofdatascience/</a>.
</div>
<div id="ref-wickhamDataScienceImport2017" class="csl-entry" role="listitem">
Wickham, Hadley, and Garrett Grolemund. 2017. <em>R for Data Science: Import, Tidy, Transform, Visualize, and Model Data</em>. "O’Reilly Media, Inc.". <a href="https://r4ds.had.co.nz/">https://r4ds.had.co.nz/</a>.
</div>
<div id="ref-xieMarkdownDefinitiveGuide2018" class="csl-entry" role="listitem">
Xie, Yihui, J. J. Allaire, and Garrett Grolemund. 2018. <em>R Markdown: The Definitive Guide</em>. New York: Chapman; Hall/<span>CRC</span>. <a href="https://doi.org/10.1201/9781138359444">https://doi.org/10.1201/9781138359444</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>