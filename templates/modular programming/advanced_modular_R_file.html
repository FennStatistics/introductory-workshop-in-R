<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Julius Fenn">

<title>Exemplary data analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="advanced_modular_R_file_files/libs/clipboard/clipboard.min.js"></script>
<script src="advanced_modular_R_file_files/libs/quarto-html/quarto.js"></script>
<script src="advanced_modular_R_file_files/libs/quarto-html/popper.min.js"></script>
<script src="advanced_modular_R_file_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="advanced_modular_R_file_files/libs/quarto-html/anchor.min.js"></script>
<link href="advanced_modular_R_file_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="advanced_modular_R_file_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="advanced_modular_R_file_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="advanced_modular_R_file_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="advanced_modular_R_file_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#background-information" id="toc-background-information" class="nav-link active" data-scroll-target="#background-information">Background Information</a></li>
  <li><a href="#notes" id="toc-notes" class="nav-link" data-scroll-target="#notes">Notes</a></li>
  <li><a href="#get-packages-raw-data-functions" id="toc-get-packages-raw-data-functions" class="nav-link" data-scroll-target="#get-packages-raw-data-functions">get packages, raw data, functions</a></li>
  <li><a href="#data-preperation" id="toc-data-preperation" class="nav-link" data-scroll-target="#data-preperation">data preperation</a>
  <ul class="collapse">
  <li><a href="#get-extreme-groups-for-lrscale-variable" id="toc-get-extreme-groups-for-lrscale-variable" class="nav-link" data-scroll-target="#get-extreme-groups-for-lrscale-variable">get extreme groups for <code>lrscale</code> variable</a></li>
  </ul></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#background" id="toc-background" class="nav-link" data-scroll-target="#background">Background</a></li>
  <li><a href="#quoting-please-remove-this-for-your-report" id="toc-quoting-please-remove-this-for-your-report" class="nav-link" data-scroll-target="#quoting-please-remove-this-for-your-report">Quoting (please remove this for your report!)</a></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a>
  <ul class="collapse">
  <li><a href="#hypothesis" id="toc-hypothesis" class="nav-link" data-scroll-target="#hypothesis">Hypothesis</a></li>
  </ul></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a>
  <ul class="collapse">
  <li><a href="#descriptive-statisticss" id="toc-descriptive-statisticss" class="nav-link" data-scroll-target="#descriptive-statisticss">Descriptive Statisticss</a></li>
  <li><a href="#basic-inferential-statisticss" id="toc-basic-inferential-statisticss" class="nav-link" data-scroll-target="#basic-inferential-statisticss">Basic Inferential Statisticss</a></li>
  <li><a href="#analyses-of-extreme-groups-for-lrscale-variable" id="toc-analyses-of-extreme-groups-for-lrscale-variable" class="nav-link" data-scroll-target="#analyses-of-extreme-groups-for-lrscale-variable">analyses of extreme groups for lrscale variable</a>
  <ul class="collapse">
  <li><a href="#descriptive-statisticss-1" id="toc-descriptive-statisticss-1" class="nav-link" data-scroll-target="#descriptive-statisticss-1">Descriptive Statisticss</a></li>
  <li><a href="#basic-inferential-statisticss-1" id="toc-basic-inferential-statisticss-1" class="nav-link" data-scroll-target="#basic-inferential-statisticss-1">Basic Inferential Statisticss</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix">Appendix</a>
  <ul class="collapse">
  <li><a href="#test-for-unidimensionality-cfa" id="toc-test-for-unidimensionality-cfa" class="nav-link" data-scroll-target="#test-for-unidimensionality-cfa">Test for unidimensionality, CFA</a></li>
  </ul></li>
  <li><a href="#save-final-files" id="toc-save-final-files" class="nav-link" data-scroll-target="#save-final-files">Save final files</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exemplary data analysis</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Julius Fenn </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="background-information" class="level1">
<h1>Background Information</h1>
<p>This is an <a href="http://rmarkdown.rstudio.com">R Markdown</a> document. Instructions for writing these documents and background information can be found in the book written by <span class="citation" data-cites="xieMarkdownDefinitiveGuide2018">Xie, Allaire, and Grolemund (<a href="#ref-xieMarkdownDefinitiveGuide2018" role="doc-biblioref">2018</a>)</span> When you execute code within the document, the results appear beneath the code.</p>
<p>This file contains the pre-processing step (clean, transform data), whereby the folder “XXX” the analysis step (test hypotheses and exploratory analyses), which follows the classical data-analysis pipeline <span class="citation" data-cites="pengArtDataScience2016 wickhamDataScienceImport2017">(see <a href="#ref-pengArtDataScience2016" role="doc-biblioref">Peng and Matsui 2016</a>; <a href="#ref-wickhamDataScienceImport2017" role="doc-biblioref">Wickham and Grolemund 2017</a>)</span>.</p>
</section>
<section id="notes" class="level1">
<h1>Notes</h1>
<p>Remark:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="do">## global variables</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>cutOff <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co"># cutoff value for building extreme groups</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="get-packages-raw-data-functions" class="level1">
<h1>get packages, raw data, functions</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">### install and load packages</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#  if packages are not already installed, the function will install and activate them</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>usePackage <span class="ot">&lt;-</span> <span class="cf">function</span>(p) {</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.element</span>(p, <span class="fu">installed.packages</span>()[,<span class="dv">1</span>]))</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">install.packages</span>(p, <span class="at">dep =</span> <span class="cn">TRUE</span>, <span class="at">repos =</span> <span class="st">"http://cran.us.r-project.org"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">require</span>(p, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"haven"</span>) <span class="co"># load SPSS, ... data </span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"tidyverse"</span>) <span class="co"># data cleaning and summarizing</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"psych"</span>) <span class="co"># psychometric analysis (EFA)</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="do">## psychometric analysis</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"moments"</span>) <span class="co"># skewness, kurtosis</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="do">## outputs</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"stargazer"</span>) <span class="co"># create tables</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"report"</span>) <span class="co"># get reports of statistical tests in APA7</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="fu">usePackage</span>(<span class="st">"lavaan"</span>) <span class="co"># for CFA</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(usePackage)</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="do">### load data files</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="do">## change working directory</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"data"</span>)</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="do">## load data</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_spss</span>(<span class="at">file =</span> <span class="st">"ESS1-9e01_1.sav"</span>)</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="do">### load functions</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="co"># print(getwd())</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"../functions"</span>)</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">dir</span>())){</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># print(dir()[i])</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">source</span>(<span class="fu">dir</span>()[i], <span class="at">encoding =</span> <span class="st">"utf-8"</span>)</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(i)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-preperation" class="level1">
<h1>data preperation</h1>
<p>compute mean scores</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="do">### data preparation</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>cntry <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># reverse coded items</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>imsmetn <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="sc">-</span> dat<span class="sc">$</span>imsmetn </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>imdfetn <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="sc">-</span> dat<span class="sc">$</span>imdfetn</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>impcntr <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="sc">-</span> dat<span class="sc">$</span>impcntr</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="do">### create mean scores</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># !!! normally you would need to run multiple analysis to check if building mean scores make sense (EFAs, ...)</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; Immigration bad or good for country's economy</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; Country's cultural life undermined or enriched by immigrants</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; Immigrants make country worse or better place to live</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>sel_var <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"imbgeco"</span>, <span class="st">"imueclt"</span>, <span class="st">"imwbcnt"</span>)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>mean_imEnrich <span class="ot">&lt;-</span> <span class="fu">rowMeans</span>(<span class="at">x =</span> dat[, sel_var], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; Allow many/few immigrants of same race/ethnic group as majority</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; Allow many/few immigrants of different race/ethnic group from majority</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; Allow many/few immigrants from poorer countries outside Europe</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>sel_var <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"imsmetn"</span>, <span class="st">"imdfetn"</span>, <span class="st">"impcntr"</span>)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>mean_imAllow <span class="ot">&lt;-</span> <span class="fu">rowMeans</span>(<span class="at">x =</span> dat[, sel_var], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; Trust</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>sel_var <span class="ot">&lt;-</span> <span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> <span class="st">"^trst"</span>)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>mean_trst <span class="ot">&lt;-</span> <span class="fu">rowMeans</span>(<span class="at">x =</span> dat[, sel_var], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; Satisfaction (personally, government)</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>sel_var <span class="ot">&lt;-</span> <span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> <span class="st">"^stf"</span>)</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>mean_stf <span class="ot">&lt;-</span> <span class="fu">rowMeans</span>(<span class="at">x =</span> dat[, sel_var], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>sd_stf <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">matches</span>(<span class="at">match =</span> <span class="st">"^stf"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">apply</span>(.,<span class="dv">1</span>, sd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="get-extreme-groups-for-lrscale-variable" class="level2">
<h2 class="anchored" data-anchor-id="get-extreme-groups-for-lrscale-variable">get extreme groups for <code>lrscale</code> variable</h2>
<p>Aim to get two extreme groups according to the <code>lrscale</code> (left, right scale) variable:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>lrscale_scaled <span class="ot">&lt;-</span> <span class="fu">scale</span>(<span class="at">x =</span> dat<span class="sc">$</span>lrscale, <span class="at">center =</span> <span class="cn">TRUE</span>, <span class="at">scale =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>mean_upper <span class="ot">&lt;-</span> <span class="fu">mean</span>(dat<span class="sc">$</span>lrscale_scaled[dat<span class="sc">$</span>lrscale_scaled <span class="sc">&gt;</span> cutOff], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>mean_lower <span class="ot">&lt;-</span> <span class="fu">mean</span>(dat<span class="sc">$</span>lrscale_scaled[dat<span class="sc">$</span>lrscale_scaled <span class="sc">&lt;</span> cutOff <span class="sc">*</span> <span class="sc">-</span><span class="dv">1</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(dat<span class="sc">$</span>lrscale_scaled)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># add vertical line</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>mean_upper, <span class="at">col =</span> <span class="st">"red"</span>)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>mean_lower, <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="advanced_modular_R_file_files/figure-html/get%20extreme%20groups-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># save subsets</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>dat_upper <span class="ot">&lt;-</span>dat <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dat<span class="sc">$</span>lrscale_scaled <span class="sc">&gt;</span> mean_upper)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>dat_lower <span class="ot">&lt;-</span>dat <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dat<span class="sc">$</span>lrscale_scaled <span class="sc">&lt;</span> mean_lower)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="do">### get dummy</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>lrscale_dummy <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="at">test =</span> dat<span class="sc">$</span>lrscale_scaled <span class="sc">&gt;</span> mean_upper, <span class="at">yes =</span> <span class="dv">2</span>, <span class="at">no =</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>         <span class="fu">ifelse</span>(<span class="at">test =</span> dat<span class="sc">$</span>lrscale_scaled <span class="sc">&lt;</span> mean_lower, <span class="at">yes =</span> <span class="dv">1</span>, <span class="at">no =</span> <span class="dv">0</span>))</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dat<span class="sc">$</span>lrscale_dummy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   0    1    2 
1977  159  125 </code></pre>
</div>
</div>
</section>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Migration ‘mother of all political problems,’ says German Interior Minister Horst Seehofer. Hort Seehofer’s 2018 statement<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> after the protests in Chemnitz, which sees migration at the heart of society’s disillusionment, shows how charged the debate about migration is in Germany.</p>
</section>
<section id="background" class="level1">
<h1>Background</h1>
<p>…</p>
</section>
<section id="quoting-please-remove-this-for-your-report" class="level1">
<h1>Quoting (please remove this for your report!)</h1>
<!-- https://blogdown-demo.rbind.io/2017/08/28/adding-citations-to-posts/ -->
<p>How to cite literature within an markdown document:</p>
<ol type="1">
<li>Blah blah <span class="citation" data-cites="newmanNetworksIntroduction2018 skrondalGeneralizedLatentVariable2004">(see <a href="#ref-newmanNetworksIntroduction2018" role="doc-biblioref">Newman 2018, 33–35</a>; also <a href="#ref-skrondalGeneralizedLatentVariable2004" role="doc-biblioref">Skrondal and Rabe-Hesketh 2004</a>, ch.&nbsp;1)</span>.</li>
<li>Blah blah <span class="citation" data-cites="newmanNetworksIntroduction2018">(<a href="#ref-newmanNetworksIntroduction2018" role="doc-biblioref">Newman 2018, 33–35</a>)</span>.</li>
<li>Blah blah <span class="citation" data-cites="newmanNetworksIntroduction2018 skrondalGeneralizedLatentVariable2004">(<a href="#ref-newmanNetworksIntroduction2018" role="doc-biblioref">Newman 2018</a>; <a href="#ref-skrondalGeneralizedLatentVariable2004" role="doc-biblioref">Skrondal and Rabe-Hesketh 2004</a>)</span>.</li>
<li>Rutkowski et al.&nbsp;says blah <span class="citation" data-cites="newmanNetworksIntroduction2018">(<a href="#ref-newmanNetworksIntroduction2018" role="doc-biblioref">2018</a>)</span>.</li>
<li><span class="citation" data-cites="newmanNetworksIntroduction2018">Newman (<a href="#ref-newmanNetworksIntroduction2018" role="doc-biblioref">2018</a>)</span> says blah.</li>
</ol>
</section>
<section id="methods" class="level1">
<h1>Methods</h1>
<section id="hypothesis" class="level2">
<h2 class="anchored" data-anchor-id="hypothesis">Hypothesis</h2>
<p><strong>Are different factors relevant to the perceived threat of migrants by people with a high or low left/right orientation?</strong></p>
<p>The following sub-hypothesis could be derived from literature:</p>
<p>…</p>
</section>
</section>
<section id="results" class="level1">
<h1>Results</h1>
<section id="descriptive-statisticss" class="level2">
<h2 class="anchored" data-anchor-id="descriptive-statisticss">Descriptive Statisticss</h2>
<p>First glimpse at the loaded data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2,358
Columns: 41
$ cname          &lt;chr&gt; "ESS1-9e01", "ESS1-9e01", "ESS1-9e01", "ESS1-9e01", "ES…
$ cedition       &lt;chr&gt; "1.0", "1.0", "1.0", "1.0", "1.0", "1.0", "1.0", "1.0",…
$ cproddat       &lt;chr&gt; "10.12.2020", "10.12.2020", "10.12.2020", "10.12.2020",…
$ cseqno         &lt;dbl&gt; 101403, 101404, 101405, 101406, 101407, 101408, 101409,…
$ name           &lt;chr&gt; "ESS9e03", "ESS9e03", "ESS9e03", "ESS9e03", "ESS9e03", …
$ essround       &lt;dbl+lbl&gt; 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, …
$ edition        &lt;chr&gt; "3", "3", "3", "3", "3", "3", "3", "3", "3", "3", "3", …
$ idno           &lt;dbl&gt; 9, 10, 64, 65, 91, 119, 150, 212, 255, 270, 279, 304, 3…
$ dweight        &lt;dbl&gt; 0.9994662, 0.9994662, 0.9994662, 0.9994662, 0.9994662, …
$ pspwght        &lt;dbl&gt; 1.2750090, 0.8540229, 0.7596949, 1.0794106, 1.2697877, …
$ pweight        &lt;dbl&gt; 3.037345, 3.037345, 3.037345, 3.037345, 3.037345, 3.037…
$ anweight       &lt;dbl&gt; 3.872642, 2.593962, 2.307456, 3.278542, 3.856783, 3.872…
$ trstprl        &lt;dbl+lbl&gt;  2,  7,  3,  3,  4,  9, 10,  5,  5,  7, NA,  6,  6,…
$ trstlgl        &lt;dbl+lbl&gt;  4,  8,  5,  4,  5,  7, 10,  7,  8,  8,  5,  9,  7,…
$ trstplc        &lt;dbl+lbl&gt;  5,  8,  6,  4,  7,  7, 10,  7,  9,  8,  7,  9,  7,…
$ trstplt        &lt;dbl+lbl&gt;  0,  6,  3,  3,  5,  8, 10,  5,  5,  6,  3,  5,  6,…
$ trstprt        &lt;dbl+lbl&gt; 2, 6, 5, 3, 5, 8, 4, 5, 5, 6, 1, 5, 3, 7, 9, 4, 3, …
$ trstep         &lt;dbl+lbl&gt;  3,  4,  5,  2,  4, 10, 10,  6,  3,  7,  3,  5,  5,…
$ trstun         &lt;dbl+lbl&gt;  0,  5,  6,  2,  5, 10, 10,  6,  7,  7, NA,  7,  5,…
$ lrscale        &lt;dbl+lbl&gt; 5, 5, 3, 2, 1, 5, 5, 2, 3, 5, 1, 4, 5, 6, 4, 3, 0, …
$ stflife        &lt;dbl+lbl&gt; 10,  8,  8,  6,  9,  9, 10,  8,  4,  9, 10,  9,  9,…
$ stfeco         &lt;dbl+lbl&gt; 10,  8,  5,  6,  9,  8, 10,  8,  5,  9,  7,  9,  9,…
$ stfgov         &lt;dbl+lbl&gt;  7,  5,  6,  2,  5, NA,  5,  7,  4,  6, NA,  6,  8,…
$ stfdem         &lt;dbl+lbl&gt;  7,  9,  6,  4,  5, 10, 10,  7,  6,  9, NA,  5,  9,…
$ imsmetn        &lt;dbl&gt; 4, 4, 4, 3, 4, 3, 3, 4, 4, 4, 2, 3, 4, 3, 3, 4, 4, 3, 4…
$ imdfetn        &lt;dbl&gt; 4, 4, 4, 3, NA, 3, 3, 4, 3, 3, 2, 3, 3, 3, 3, NA, NA, 3…
$ impcntr        &lt;dbl&gt; 4, 4, 4, 3, NA, 4, 2, 4, NA, 2, 2, 2, 3, 3, 3, 3, NA, 1…
$ imbgeco        &lt;dbl+lbl&gt; NA, 10,  9,  4,  8,  8, 10,  8,  7,  7,  0,  9, 10,…
$ imueclt        &lt;dbl+lbl&gt;  8,  5,  8,  4,  8,  8, 10,  8,  7,  4,  0,  9, 10,…
$ imwbcnt        &lt;dbl+lbl&gt; 5, 5, 8, 3, 8, 7, 6, 8, 7, 5, 0, 5, 5, 5, 5, 7, 4, …
$ happy          &lt;dbl+lbl&gt; 10,  8, 10,  6,  9,  9,  9,  8,  5,  9, 10,  9,  8,…
$ rlgdgr         &lt;dbl+lbl&gt;  9,  7,  9,  1,  5,  9,  5,  0,  3,  9,  5,  0, 10,…
$ gndr           &lt;dbl+lbl&gt; 2, 2, 2, 1, 2, 2, 2, 1, 1, 1, 2, 2, 1, 1, 1, 2, 2, …
$ agea           &lt;dbl+lbl&gt; 26, 65, 74, 64, 54, 20, 71, 41, 62, 65, 67, 47, 67,…
$ mean_imEnrich  &lt;dbl&gt; 6.500000, 6.666667, 8.333333, 3.666667, 8.000000, 7.666…
$ mean_imAllow   &lt;dbl&gt; 4.000000, 4.000000, 4.000000, 3.000000, 4.000000, 3.333…
$ mean_trst      &lt;dbl&gt; 2.285714, 6.285714, 4.714286, 3.000000, 5.000000, 8.428…
$ mean_stf       &lt;dbl&gt; 8.50, 7.50, 6.25, 4.50, 7.00, 9.00, 8.75, 7.50, 4.75, 8…
$ sd_stf         &lt;dbl&gt; 1.7320508, 1.7320508, 1.2583057, 1.9148542, 2.3094011, …
$ lrscale_scaled &lt;dbl[,1]&gt; &lt;matrix[26 x 1]&gt;
$ lrscale_dummy  &lt;dbl[,1]&gt; &lt;matrix[26 x 1]&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    cname             cedition           cproddat             cseqno      
 Length:2358        Length:2358        Length:2358        Min.   :101403  
 Class :character   Class :character   Class :character   1st Qu.:101992  
 Mode  :character   Mode  :character   Mode  :character   Median :102582  
                                                          Mean   :102582  
                                                          3rd Qu.:103171  
                                                          Max.   :103760  
                                                                          
     name              essround   edition               idno      
 Length:2358        Min.   :9   Length:2358        Min.   :    9  
 Class :character   1st Qu.:9   Class :character   1st Qu.:17194  
 Mode  :character   Median :9   Mode  :character   Median :34640  
                    Mean   :9                      Mean   :34894  
                    3rd Qu.:9                      3rd Qu.:52408  
                    Max.   :9                      Max.   :69956  
                                                                  
    dweight          pspwght          pweight         anweight     
 Min.   :0.9995   Min.   :0.4300   Min.   :3.037   Min.   : 1.306  
 1st Qu.:0.9995   1st Qu.:0.7410   1st Qu.:3.037   1st Qu.: 2.251  
 Median :0.9995   Median :0.9423   Median :3.037   Median : 2.862  
 Mean   :1.0000   Mean   :1.0000   Mean   :3.037   Mean   : 3.037  
 3rd Qu.:0.9995   3rd Qu.:1.1026   3rd Qu.:3.037   3rd Qu.: 3.349  
 Max.   :1.6288   Max.   :3.7891   Max.   :3.037   Max.   :11.509  
                                                                   
    trstprl          trstlgl          trstplc          trstplt      
 Min.   : 0.000   Min.   : 0.000   Min.   : 0.000   Min.   : 0.000  
 1st Qu.: 3.000   1st Qu.: 5.000   1st Qu.: 6.000   1st Qu.: 2.000  
 Median : 5.000   Median : 7.000   Median : 8.000   Median : 4.000  
 Mean   : 5.099   Mean   : 6.128   Mean   : 7.103   Mean   : 3.964  
 3rd Qu.: 7.000   3rd Qu.: 8.000   3rd Qu.: 9.000   3rd Qu.: 6.000  
 Max.   :10.000   Max.   :10.000   Max.   :10.000   Max.   :10.000  
 NA's   :31       NA's   :21       NA's   :5        NA's   :19      
    trstprt           trstep           trstun          lrscale      
 Min.   : 0.000   Min.   : 0.000   Min.   : 0.000   Min.   : 0.000  
 1st Qu.: 2.000   1st Qu.: 3.000   1st Qu.: 3.000   1st Qu.: 3.000  
 Median : 4.000   Median : 5.000   Median : 5.000   Median : 5.000  
 Mean   : 3.993   Mean   : 4.562   Mean   : 4.903   Mean   : 4.388  
 3rd Qu.: 5.000   3rd Qu.: 6.000   3rd Qu.: 7.000   3rd Qu.: 5.000  
 Max.   :10.000   Max.   :10.000   Max.   :10.000   Max.   :10.000  
 NA's   :22       NA's   :81       NA's   :104      NA's   :97      
    stflife           stfeco           stfgov          stfdem      
 Min.   : 0.000   Min.   : 0.000   Min.   : 0.00   Min.   : 0.000  
 1st Qu.: 7.000   1st Qu.: 5.000   1st Qu.: 3.00   1st Qu.: 4.000  
 Median : 8.000   Median : 7.000   Median : 4.00   Median : 6.000  
 Mean   : 7.664   Mean   : 6.769   Mean   : 4.28   Mean   : 5.887  
 3rd Qu.: 9.000   3rd Qu.: 8.000   3rd Qu.: 6.00   3rd Qu.: 8.000  
 Max.   :10.000   Max.   :10.000   Max.   :10.00   Max.   :10.000  
 NA's   :6        NA's   :36       NA's   :66      NA's   :37      
    imsmetn         imdfetn         impcntr         imbgeco      
 Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   : 0.000  
 1st Qu.:3.000   1st Qu.:2.000   1st Qu.:2.000   1st Qu.: 5.000  
 Median :3.000   Median :3.000   Median :3.000   Median : 6.000  
 Mean   :3.335   Mean   :2.918   Mean   :2.835   Mean   : 6.125  
 3rd Qu.:4.000   3rd Qu.:3.000   3rd Qu.:3.000   3rd Qu.: 8.000  
 Max.   :4.000   Max.   :4.000   Max.   :4.000   Max.   :10.000  
 NA's   :27      NA's   :30      NA's   :30      NA's   :33      
    imueclt          imwbcnt           happy            rlgdgr      
 Min.   : 0.000   Min.   : 0.000   Min.   : 0.000   Min.   : 0.000  
 1st Qu.: 5.000   1st Qu.: 4.000   1st Qu.: 7.000   1st Qu.: 1.000  
 Median : 6.000   Median : 5.000   Median : 8.000   Median : 5.000  
 Mean   : 6.023   Mean   : 5.347   Mean   : 7.818   Mean   : 4.164  
 3rd Qu.: 8.000   3rd Qu.: 7.000   3rd Qu.: 9.000   3rd Qu.: 7.000  
 Max.   :10.000   Max.   :10.000   Max.   :10.000   Max.   :10.000  
 NA's   :19       NA's   :29       NA's   :3        NA's   :7       
      gndr            agea       mean_imEnrich     mean_imAllow  
 Min.   :1.000   Min.   :15.00   Min.   : 0.000   Min.   :1.000  
 1st Qu.:1.000   1st Qu.:34.00   1st Qu.: 4.667   1st Qu.:2.667  
 Median :1.000   Median :51.00   Median : 6.000   Median :3.000  
 Mean   :1.486   Mean   :49.65   Mean   : 5.834   Mean   :3.031  
 3rd Qu.:2.000   3rd Qu.:64.00   3rd Qu.: 7.333   3rd Qu.:3.333  
 Max.   :2.000   Max.   :90.00   Max.   :10.000   Max.   :4.000  
                 NA's   :4       NA's   :9        NA's   :15     
   mean_trst         mean_stf          sd_stf      lrscale_scaled.V1 
 Min.   : 0.000   Min.   : 0.250   Min.   :0.000   Min.   :-2.30234  
 1st Qu.: 3.857   1st Qu.: 5.250   1st Qu.:1.258   1st Qu.:-0.72823  
 Median : 5.286   Median : 6.250   Median :1.893   Median : 0.32118  
 Mean   : 5.116   Mean   : 6.163   Mean   :1.982   Mean   : 0.00000  
 3rd Qu.: 6.571   3rd Qu.: 7.250   3rd Qu.:2.630   3rd Qu.: 0.32118  
 Max.   :10.000   Max.   :10.000   Max.   :6.364   Max.   : 2.94470  
 NA's   :2        NA's   :1        NA's   :9       NA's   :97        
 lrscale_dummy.V1 
 Min.   :0.00000  
 1st Qu.:0.00000  
 Median :0.00000  
 Mean   :0.18089  
 3rd Qu.:0.00000  
 Max.   :2.00000  
 NA's   :97       </code></pre>
</div>
</div>
</section>
<section id="basic-inferential-statisticss" class="level2">
<h2 class="anchored" data-anchor-id="basic-inferential-statisticss">Basic Inferential Statisticss</h2>
<p>Combining statistical tests like cor.test or t.test with the respective plot, check the assumptions of every test procedure you are using:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.test</span>(dat<span class="sc">$</span>mean_stf, dat<span class="sc">$</span>mean_imEnrich, <span class="at">use =</span> <span class="st">"complete"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  dat$mean_stf and dat$mean_imEnrich
t = 21.905, df = 2346, p-value &lt; 2.2e-16
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 0.3779243 0.4451088
sample estimates:
      cor 
0.4120765 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>report<span class="sc">::</span><span class="fu">report</span>(<span class="fu">cor.test</span>(dat<span class="sc">$</span>mean_stf, dat<span class="sc">$</span>mean_imEnrich, <span class="at">use =</span> <span class="st">"complete"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Effect sizes were labelled following Funder's (2019) recommendations.

The Pearson's product-moment correlation between dat$mean_stf and
dat$mean_imEnrich is positive, statistically significant, and very large (r =
0.41, 95% CI [0.38, 0.45], t(2346) = 21.91, p &lt; .001)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(dat<span class="sc">$</span>mean_stf, dat<span class="sc">$</span>mean_imEnrich)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="advanced_modular_R_file_files/figure-html/correlations-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(dat<span class="sc">$</span>mean_stf <span class="sc">~</span> dat<span class="sc">$</span>gndr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  dat$mean_stf by dat$gndr
t = 1.8892, df = 2349.3, p-value = 0.05899
alternative hypothesis: true difference in means between group 1 and group 2 is not equal to 0
95 percent confidence interval:
 -0.004760463  0.255262839
sample estimates:
mean in group 1 mean in group 2 
       6.223941        6.098690 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>report<span class="sc">::</span><span class="fu">report</span>(<span class="fu">t.test</span>(dat<span class="sc">$</span>mean_stf <span class="sc">~</span> dat<span class="sc">$</span>gndr))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Effect sizes were labelled following Cohen's (1988) recommendations.

The Welch Two Sample t-test testing the difference of dat$mean_stf by dat$gndr
(mean in group 1 = 6.22, mean in group 2 = 6.10) suggests that the effect is
positive, statistically not significant, and very small (difference = 0.13, 95%
CI [-4.76e-03, 0.26], t(2349.27) = 1.89, p = 0.059; Cohen's d = 0.08, 95% CI
[-2.96e-03, 0.16])</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(dat<span class="sc">$</span>mean_stf <span class="sc">~</span> dat<span class="sc">$</span>gndr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="advanced_modular_R_file_files/figure-html/t-test-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="analyses-of-extreme-groups-for-lrscale-variable" class="level2">
<h2 class="anchored" data-anchor-id="analyses-of-extreme-groups-for-lrscale-variable">analyses of extreme groups for lrscale variable</h2>
<section id="descriptive-statisticss-1" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statisticss-1">Descriptive Statisticss</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>tmp_desc <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(lrscale_dummy) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">N =</span> <span class="fu">n</span>(),</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">meanEnrich =</span> <span class="fu">mean</span>(mean_imEnrich, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">sdEnrich =</span> <span class="fu">sd</span>(mean_imEnrich, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">meanAllow =</span> <span class="fu">mean</span>(mean_imAllow, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">sdAllow =</span> <span class="fu">sd</span>(mean_imAllow, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">meanStf =</span> <span class="fu">mean</span>(mean_stf, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">sdStf =</span> <span class="fu">sd</span>(mean_stf, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">meanTrst =</span> <span class="fu">mean</span>(mean_trst, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">sdTrst =</span> <span class="fu">sd</span>(mean_trst, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>tmp_desc <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="at">x =</span> tmp_desc, <span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>tmp_desc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 10
  lrscale_dummy[,1]     N meanEnrich sdEnrich meanAllow sdAllow meanStf sdStf
              &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
1                 0  1977       5.9      1.99      3.04    0.64    6.2   1.55
2                 1   159       6.34     2.06      3.24    0.69    5.9   1.67
3                 2   125       4.72     2.57      2.73    0.65    6.1   1.82
4                NA    97       5.11     2.42      2.87    0.78    5.91  2.32
# ℹ 2 more variables: meanTrst &lt;dbl&gt;, sdTrst &lt;dbl&gt;</code></pre>
</div>
</div>
<p>Using the <strong>stargazer</strong> package you can create nice tables. You sometimes need to limit the number of digits using the function round():</p>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="do">### set up summary dataset yourself</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(tmp_desc, <span class="at">type =</span> <span class="st">"html"</span>, <span class="at">summary =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<table style="text-align:center">
<tbody><tr>
<td colspan="11" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
lrscale_dummy
</td>
<td>
N
</td>
<td>
meanEnrich
</td>
<td>
sdEnrich
</td>
<td>
meanAllow
</td>
<td>
sdAllow
</td>
<td>
meanStf
</td>
<td>
sdStf
</td>
<td>
meanTrst
</td>
<td>
sdTrst
</td>
</tr>
<tr>
<td colspan="11" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
1
</td>
<td>
0
</td>
<td>
1977
</td>
<td>
5.9
</td>
<td>
1.99
</td>
<td>
3.04
</td>
<td>
0.64
</td>
<td>
6.2
</td>
<td>
1.55
</td>
<td>
5.18
</td>
<td>
1.76
</td>
</tr>
<tr>
<td style="text-align:left">
2
</td>
<td>
1
</td>
<td>
159
</td>
<td>
6.34
</td>
<td>
2.06
</td>
<td>
3.24
</td>
<td>
0.69
</td>
<td>
5.9
</td>
<td>
1.67
</td>
<td>
4.86
</td>
<td>
1.94
</td>
</tr>
<tr>
<td style="text-align:left">
3
</td>
<td>
2
</td>
<td>
125
</td>
<td>
4.72
</td>
<td>
2.57
</td>
<td>
2.73
</td>
<td>
0.65
</td>
<td>
6.1
</td>
<td>
1.82
</td>
<td>
4.72
</td>
<td>
2.04
</td>
</tr>
<tr>
<td style="text-align:left">
4
</td>
<td>
NA
</td>
<td>
97
</td>
<td>
5.11
</td>
<td>
2.42
</td>
<td>
2.87
</td>
<td>
0.78
</td>
<td>
5.91
</td>
<td>
2.32
</td>
<td>
4.65
</td>
<td>
2.25
</td>
</tr>
<tr>
<td colspan="11" style="border-bottom: 1px solid black">
</td>
</tr>

</tbody></table>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="do">### using summary function within stargazer</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>tmp_desc_stargazeer <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(dat[, <span class="fu">str_subset</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> <span class="st">"mean_"</span>)])</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>tmp_desc_stargazeer <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(tmp_desc_stargazeer)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(<span class="at">x =</span>tmp_desc_stargazeer, <span class="at">type =</span> <span class="st">"html"</span>, <span class="at">summary =</span> <span class="cn">TRUE</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<table style="text-align:center">
<tbody><tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Statistic
</td>
<td>
N
</td>
<td>
Mean
</td>
<td>
St.&nbsp;Dev.
</td>
<td>
Min
</td>
<td>
Max
</td>
</tr>
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
mean_imEnrich
</td>
<td>
2,335
</td>
<td>
5.84
</td>
<td>
2.07
</td>
<td>
0.00
</td>
<td>
10.00
</td>
</tr>
<tr>
<td style="text-align:left">
mean_imAllow
</td>
<td>
2,335
</td>
<td>
3.03
</td>
<td>
0.66
</td>
<td>
1.00
</td>
<td>
4.00
</td>
</tr>
<tr>
<td style="text-align:left">
mean_trst
</td>
<td>
2,335
</td>
<td>
5.12
</td>
<td>
1.81
</td>
<td>
0.00
</td>
<td>
10.00
</td>
</tr>
<tr>
<td style="text-align:left">
mean_stf
</td>
<td>
2,335
</td>
<td>
6.17
</td>
<td>
1.60
</td>
<td>
0.25
</td>
<td>
10.00
</td>
</tr>
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>

</tbody></table>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; output to html</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"outputs"</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(tmp_desc, <span class="at">type =</span> <span class="st">"html"</span>, <span class="at">summary =</span> <span class="cn">FALSE</span>, <span class="at">out =</span> <span class="st">"summaryTable.html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<table style="text-align:center">
<tbody><tr>
<td colspan="11" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
lrscale_dummy
</td>
<td>
N
</td>
<td>
meanEnrich
</td>
<td>
sdEnrich
</td>
<td>
meanAllow
</td>
<td>
sdAllow
</td>
<td>
meanStf
</td>
<td>
sdStf
</td>
<td>
meanTrst
</td>
<td>
sdTrst
</td>
</tr>
<tr>
<td colspan="11" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
1
</td>
<td>
0
</td>
<td>
1977
</td>
<td>
5.9
</td>
<td>
1.99
</td>
<td>
3.04
</td>
<td>
0.64
</td>
<td>
6.2
</td>
<td>
1.55
</td>
<td>
5.18
</td>
<td>
1.76
</td>
</tr>
<tr>
<td style="text-align:left">
2
</td>
<td>
1
</td>
<td>
159
</td>
<td>
6.34
</td>
<td>
2.06
</td>
<td>
3.24
</td>
<td>
0.69
</td>
<td>
5.9
</td>
<td>
1.67
</td>
<td>
4.86
</td>
<td>
1.94
</td>
</tr>
<tr>
<td style="text-align:left">
3
</td>
<td>
2
</td>
<td>
125
</td>
<td>
4.72
</td>
<td>
2.57
</td>
<td>
2.73
</td>
<td>
0.65
</td>
<td>
6.1
</td>
<td>
1.82
</td>
<td>
4.72
</td>
<td>
2.04
</td>
</tr>
<tr>
<td style="text-align:left">
4
</td>
<td>
NA
</td>
<td>
97
</td>
<td>
5.11
</td>
<td>
2.42
</td>
<td>
2.87
</td>
<td>
0.78
</td>
<td>
5.91
</td>
<td>
2.32
</td>
<td>
4.65
</td>
<td>
2.25
</td>
</tr>
<tr>
<td colspan="11" style="border-bottom: 1px solid black">
</td>
</tr>

</tbody></table>
</section>
<section id="basic-inferential-statisticss-1" class="level3">
<h3 class="anchored" data-anchor-id="basic-inferential-statisticss-1">Basic Inferential Statisticss</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>lm_lower <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">formula =</span> mean_imEnrich <span class="sc">~</span> mean_trst <span class="sc">+</span> mean_stf <span class="sc">+</span> happy <span class="sc">+</span> agea <span class="sc">+</span> gndr, <span class="at">data =</span> dat_lower)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>lm_upper <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">formula =</span> mean_imEnrich <span class="sc">~</span> mean_trst <span class="sc">+</span> mean_stf <span class="sc">+</span> happy <span class="sc">+</span> agea <span class="sc">+</span> gndr, <span class="at">data =</span> dat_upper)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm_lower)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = mean_imEnrich ~ mean_trst + mean_stf + happy + agea + 
    gndr, data = dat_lower)

Residuals:
    Min      1Q  Median      3Q     Max 
-5.3869 -1.0797  0.0966  1.1228  4.0886 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  5.172446   0.911014   5.678 6.73e-08 ***
mean_trst    0.451803   0.102439   4.410 1.94e-05 ***
mean_stf    -0.182405   0.131175  -1.391    0.166    
happy        0.105915   0.094284   1.123    0.263    
agea        -0.001638   0.007501  -0.218    0.827    
gndr        -0.451923   0.321711  -1.405    0.162    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1.939 on 152 degrees of freedom
  (1 Beobachtung als fehlend gelöscht)
Multiple R-squared:  0.1389,    Adjusted R-squared:  0.1106 
F-statistic: 4.905 on 5 and 152 DF,  p-value: 0.0003442</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm_upper)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = mean_imEnrich ~ mean_trst + mean_stf + happy + agea + 
    gndr, data = dat_upper)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.7007 -1.6438  0.1496  1.4679  6.7869 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)   
(Intercept) -1.28886    1.13532  -1.135  0.25856   
mean_trst    0.28955    0.13520   2.142  0.03427 * 
mean_stf     0.53544    0.16619   3.222  0.00164 **
happy       -0.00867    0.10892  -0.080  0.93669   
agea         0.01027    0.01021   1.007  0.31620   
gndr         0.61951    0.38910   1.592  0.11400   
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.122 on 119 degrees of freedom
Multiple R-squared:  0.3445,    Adjusted R-squared:  0.317 
F-statistic: 12.51 on 5 and 119 DF,  p-value: 9.165e-10</code></pre>
</div>
</div>
<p>Again we can use the <strong>stargazer</strong> package, which identifies <code>lm_upper</code> for example as an lm-object in R and creates a wonderful table for the model results:</p>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(lm_lower, <span class="at">type =</span> <span class="st">"html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<table style="text-align:center">
<tbody><tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
mean_imEnrich
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
mean_trst
</td>
<td>
0.452<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.102)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
mean_stf
</td>
<td>
-0.182
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.131)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
happy
</td>
<td>
0.106
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.094)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
agea
</td>
<td>
-0.002
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.008)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
gndr
</td>
<td>
-0.452
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.322)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
5.172<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.911)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
158
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.139
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.111
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
1.939 (df = 152)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
4.905<sup>***</sup> (df = 5; 152)
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></em></sup><em>p&lt;0.1; <sup><strong></strong></sup><strong>p&lt;0.05; <sup></sup></strong></em>p&lt;0.01
</td>
</tr>

</tbody></table>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(lm_upper, <span class="at">type =</span> <span class="st">"html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<table style="text-align:center">
<tbody><tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
mean_imEnrich
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
mean_trst
</td>
<td>
0.290<sup>**</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.135)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
mean_stf
</td>
<td>
0.535<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.166)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
happy
</td>
<td>
-0.009
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.109)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
agea
</td>
<td>
0.010
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.010)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
gndr
</td>
<td>
0.620
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.389)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
-1.289
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1.135)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
125
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.345
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.317
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
2.122 (df = 119)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
12.511<sup>***</sup> (df = 5; 119)
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></em></sup><em>p&lt;0.1; <sup><strong></strong></sup><strong>p&lt;0.05; <sup></sup></strong></em>p&lt;0.01
</td>
</tr>

</tbody></table>
</section>
</section>
</section>
<section id="appendix" class="level1">
<h1>Appendix</h1>
<section id="test-for-unidimensionality-cfa" class="level2">
<h2 class="anchored" data-anchor-id="test-for-unidimensionality-cfa">Test for unidimensionality, CFA</h2>
<p>Here we could apply a self-written function for example to check the reliability and amount of explained variance for the first factor:</p>
<p><em>get correlation plot, descriptive plot, EFA, CFA</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>regEx <span class="ot">&lt;-</span> <span class="st">"^trst"</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>nameScale <span class="ot">&lt;-</span> <span class="st">"Trust Scale"</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>nameVariable <span class="ot">&lt;-</span> <span class="st">"mean_TrustItems"</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> regEx))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>tmp_dat <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(dat[,<span class="fu">str_detect</span>(<span class="at">string =</span> <span class="fu">colnames</span>(dat), <span class="at">pattern =</span> regEx)])</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">CFAstats</span>(<span class="at">dataset =</span> tmp_dat, <span class="at">regularExp =</span> regEx, <span class="at">labelLatent =</span> <span class="fu">str_remove</span>(<span class="at">string =</span> nameVariable, <span class="at">pattern =</span> <span class="st">"mean_"</span>), </span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">showPlots =</span> <span class="cn">TRUE</span>, </span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeEFA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeCFA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">computeCFAMplus =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="advanced_modular_R_file_files/figure-html/applying%20R%20functions-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="advanced_modular_R_file_files/figure-html/applying%20R%20functions-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

descriptive statistics: 
        Mean   SD Median CoeffofVariation Minimum Maximun Lower Quantile
trstprl 5.13 2.47      5             0.48       0      10              0
trstlgl 6.16 2.48      7             0.40       0      10              0
trstplc 7.10 2.14      8             0.30       0      10              0
trstplt 3.97 2.25      4             0.57       0      10              0
trstprt 4.02 2.13      4             0.53       0      10              0
trstep  4.58 2.39      5             0.52       0      10              0
trstun  4.91 2.35      5             0.48       0      10              0
        Upper Quantile Skewness Kurtosis(-3) KS-Test
trstprl             10    -0.25        -0.57       0
trstlgl             10    -0.58        -0.33       0
trstplc             10    -1.02         0.91       0
trstplt             10    -0.05        -0.60       0
trstprt             10    -0.05        -0.50       0
trstep              10    -0.18        -0.55       0
trstun              10    -0.25        -0.44       0


variables under investigation:  trstprl trstlgl trstplc trstplt trstprt trstep trstun 

Cronbachs Alpha: 0.89 
Error in polychoric(x, correct = correct) : 
  You have more than8 categories for your items, polychoric is probably not needed
[1] "use instead of polychoric correlations pearson correlations"</code></pre>
</div>
<div class="cell-output-display">
<p><img src="advanced_modular_R_file_files/figure-html/applying%20R%20functions-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Parallel analysis suggests that the number of factors =  3  and the number of components =  1 
TrustItems 
Number of components:  1 

Error in polychoric(tmp_dat) : 
  You have more than8 categories for your items, polychoric is probably not needed
[1] "use instead of polychoric correlations pearson correlations"


EFA factor loadings (1 factor solution): 

Loadings:
        MR1  
trstprl 0.806
trstlgl 0.678
trstplc 0.495
trstplt 0.850
trstprt 0.838
trstep  0.802
trstun  0.685

                 MR1
SS loadings    3.892
Proportion Var 0.556
CFA summary and fit statistics: 
lavaan 0.6.17 ended normally after 28 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        14

  Number of observations                          2202

Model Test User Model:
                                              Standard      Scaled
  Test Statistic                               964.099     547.943
  Degrees of freedom                                14          14
  P-value (Chi-square)                           0.000       0.000
  Scaling correction factor                                  1.759
    Yuan-Bentler correction (Mplus variant)                       

Model Test Baseline Model:

  Test statistic                              9130.044    5090.118
  Degrees of freedom                                21          21
  P-value                                        0.000       0.000
  Scaling correction factor                                  1.794

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.896       0.895
  Tucker-Lewis Index (TLI)                       0.844       0.842
                                                                  
  Robust Comparative Fit Index (CFI)                         0.897
  Robust Tucker-Lewis Index (TLI)                            0.845

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)             -30701.274  -30701.274
  Scaling correction factor                                  1.357
      for the MLR correction                                      
  Loglikelihood unrestricted model (H1)             NA          NA
  Scaling correction factor                                  1.558
      for the MLR correction                                      
                                                                  
  Akaike (AIC)                               61430.547   61430.547
  Bayesian (BIC)                             61510.307   61510.307
  Sample-size adjusted Bayesian (SABIC)      61465.827   61465.827

Root Mean Square Error of Approximation:

  RMSEA                                          0.176       0.132
  90 Percent confidence interval - lower         0.166       0.125
  90 Percent confidence interval - upper         0.185       0.139
  P-value H_0: RMSEA &lt;= 0.050                    0.000       0.000
  P-value H_0: RMSEA &gt;= 0.080                    1.000       1.000
                                                                  
  Robust RMSEA                                               0.175
  90 Percent confidence interval - lower                     0.162
  90 Percent confidence interval - upper                     0.187
  P-value H_0: Robust RMSEA &lt;= 0.050                         0.000
  P-value H_0: Robust RMSEA &gt;= 0.080                         1.000

Standardized Root Mean Square Residual:

  SRMR                                           0.067       0.067

Parameter Estimates:

  Standard errors                             Sandwich
  Information bread                           Observed
  Observed information based on                Hessian

Latent Variables:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  TrustItems =~                                                         
    trstprl           1.000                               1.978    0.801
    trstlgl           0.798    0.025   31.815    0.000    1.578    0.638
    trstplc           0.501    0.027   18.834    0.000    0.991    0.462
    trstplt           0.997    0.021   47.008    0.000    1.972    0.877
    trstprt           0.933    0.022   42.309    0.000    1.846    0.868
    trstep            0.957    0.023   41.358    0.000    1.893    0.793
    trstun            0.800    0.025   31.400    0.000    1.582    0.673

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .trstprl           2.193    0.113   19.485    0.000    2.193    0.359
   .trstlgl           3.633    0.127   28.590    0.000    3.633    0.593
   .trstplc           3.615    0.131   27.681    0.000    3.615    0.786
   .trstplt           1.163    0.077   15.008    0.000    1.163    0.230
   .trstprt           1.118    0.071   15.803    0.000    1.118    0.247
   .trstep            2.119    0.102   20.683    0.000    2.119    0.371
   .trstun            3.029    0.119   25.373    0.000    3.029    0.548
    TrustItems        3.914    0.168   23.347    0.000    1.000    1.000</code></pre>
</div>
<div class="cell-output-display">
<p><img src="advanced_modular_R_file_files/figure-html/applying%20R%20functions-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

CFA first 6 Modification Indices: 
       lhs op     rhs      mi    epc sepc.lv sepc.all sepc.nox
22 trstlgl ~~ trstplc 438.788  1.692   1.692    0.467    0.467
36  trstep ~~  trstun 271.209  1.023   1.023    0.404    0.404
31 trstplt ~~ trstprt 259.067  0.703   0.703    0.616    0.616
16 trstprl ~~ trstlgl  70.977  0.580   0.580    0.206    0.206
33 trstplt ~~  trstun  59.919 -0.404  -0.404   -0.215   -0.215
32 trstplt ~~  trstep  55.450 -0.366  -0.366   -0.233   -0.233</code></pre>
</div>
</div>
</section>
</section>
<section id="save-final-files" class="level1">
<h1>Save final files</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"outputs"</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="do">## save as .xlsx file</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>xlsx<span class="sc">::</span><span class="fu">write.xlsx2</span>(<span class="at">x =</span> dat, <span class="at">file =</span> <span class="st">"dat.xlsx"</span>)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="do">## save as .csv file</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv2</span>(<span class="at">x =</span> dat, <span class="at">file =</span> <span class="st">"dat.csv"</span>)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="do">## save as R object</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(dat, <span class="at">file =</span> <span class="st">"dat.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="references" class="level1 unnumbered">


</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-newmanNetworksIntroduction2018" class="csl-entry" role="listitem">
Newman, Mark. 2018. <em>Networks: An Introduction</em>. Oxford University Press.
</div>
<div id="ref-pengArtDataScience2016" class="csl-entry" role="listitem">
Peng, Roger D., and Elizabeth Matsui. 2016. <em>The Art of Data Science: A Guide for Anyone Who Works with Data</em>. Lulu.com. <a href="https://bookdown.org/rdpeng/artofdatascience/">https://bookdown.org/rdpeng/artofdatascience/</a>.
</div>
<div id="ref-skrondalGeneralizedLatentVariable2004" class="csl-entry" role="listitem">
Skrondal, Anders, and Sophia Rabe-Hesketh. 2004. <em>Generalized Latent Variable Modeling: Multilevel, Longitudinal, and Structural Equation Models</em>. New York: Chapman; Hall/<span>CRC</span>. <a href="https://doi.org/10.1201/9780203489437">https://doi.org/10.1201/9780203489437</a>.
</div>
<div id="ref-wickhamDataScienceImport2017" class="csl-entry" role="listitem">
Wickham, Hadley, and Garrett Grolemund. 2017. <em>R for Data Science: Import, Tidy, Transform, Visualize, and Model Data</em>. "O’Reilly Media, Inc.". <a href="https://r4ds.had.co.nz/">https://r4ds.had.co.nz/</a>.
</div>
<div id="ref-xieMarkdownDefinitiveGuide2018" class="csl-entry" role="listitem">
Xie, Yihui, J. J. Allaire, and Garrett Grolemund. 2018. <em>R Markdown: The Definitive Guide</em>. New York: Chapman; Hall/<span>CRC</span>. <a href="https://doi.org/10.1201/9781138359444">https://doi.org/10.1201/9781138359444</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>see <a href="https://www.dw.com/en/migration-mother-of-all-political-problems-says-german-interior-minister-horst-seehofer/a-45378092" class="uri">https://www.dw.com/en/migration-mother-of-all-political-problems-says-german-interior-minister-horst-seehofer/a-45378092</a>, retrieved 9 February 2022<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>